TODO for 1.99.x
===============

[ ] jbe: libxcb depends on host's xslt installation! Current fix is to be checked.

[ ] jbe: xcb-proto depends on host's xmllint!

[X] jbe:
    ptxdist: platformconfig...
    platforms/images.in:14:warning: 'select' used by config symbol 'IMAGE_HD' refers to undefined symbol 'HOST_GENPART'
    platforms/images.in:193:warning: 'select' used by config symbol 'IMAGE_JFFS2' refers to undefined symbol 'HOST_MTD_UTILS'
    platforms/images.in:226:warning: 'select' used by config symbol 'IMAGE_UIMAGE' refers to undefined symbol 'HOST_UMKIMAGE'
    platforms/images.in:271:warning: 'select' used by config symbol 'IMAGE_EXT2' refers to undefined symbol 'HOST_GENEXT2FS'

[ ] jbe: add help what symbol "PTXCONF_PLATFORM" should contain (or what it
    means if this entry is still empty)

[ ] jbe: "ptxdist help" does not output the new option "platformconfig"

[ ] rsc: platformconfig: check what about PTXCONF_IMAGE_IPKG_ARCH; it
    should go to the platformconfig code.

[ ] rsc: we don't seem to have a target option for the endianess!

[ ] rsc: configure continues, even if a test breaks. Example:
    checking lex library... sed: couldn't write 76 items to stdout: No space left on device
    grep: write error: No space left on device
    sed: couldn't write 46 items to stdout: No space left on device
    none needed
    checking whether yytext is a pointer... sed: couldn't write 29 items to stdout: No space left on device
    no
    [...anything proceeds...]

[ ] mkl: reactiveate new install_copy feature (no explicid destination)

[x] rsc: put export LANG=C somewhere into PTXdist, to make compiler
         output more readable

[ ] mol: bash configure --enable-job-control does not work when cross compiling
         posible fix in:
         https://iocaste.extern.pengutronix.de/svn/oselas/bsp/johndeere/OSELAS.BSP-JohnDeere-ComPC-trunk/rules/bash.make
         explained here:
         http://www.mail-archive.com/bug-bash%40gnu.org/msg03107.html

[ ] bbu: add more real GNU coreutils

[ ] rsc: cyclictest needs a "select GLIBC" to fullfill the packet
    dependency generation requirements

[ ] rsc: SuSE has an old stat version which doesn't support --printf;
    this breaks building of hd.img

[ ] jbe: review samba configure stage. For a non-root and cross-compile run it
	seems to omit many tests and switches of many features in the final
	application.
	-> check if samba_cv_HAVE_IFACE_IFCONF=yes and samba_cv_HAVE_MMAP=yes
	   can be used all over all architectures as defaults

[x] jbe: suppress cross toolchain and toolchain vendor check while --native build

[ ] bbu: add minimal documentation for internal vars (useful for customer makefiles)
	-> see manual (not quickstart)

[ ] rsc: fix python dependencies for related libs

[ ] rsc: add 'quiet' support to start scripts

[ ] jbe: ipkg does not work on the target anymore. Cannot install anything.

[ ] jbe: samba fails to run with:
	[...]
	sys_gethostbyname: Unknown host. eth0
	can't determine netmask for eth0
	WARNING: no network interfaces found
	[...]
	Seems to be a failure with current glibc

[ ] rsc: find out why iproute2 needs berkeley-db

[ ] rsc: xorg-app-xkbcomp needs xorg-lib-xkbfile, but dependency doesn't
         work

[ ] rsc: xorg-data-xkbdata needs xkbcomp on the host - otherwhise we get
         a circular dependency ...

[x] jbe: if ptxdist was called with wrong parameters (and complains about it) it
	 should return also an error return code (so something like
	 "ptxdist clen kernel && ptxdist go" fails)

[ ] rsc: add generic/sbin/init trick

[ ] bbu: default path to generic projects seems not work

[ ] mkl/jbe: Host's environment variable PKG_CONFIG_PATH leaks into PTXdist's build
	Audit other environment variables also!

[ ] jbe: Current implementation of "screen" is useless due to lack of generic configuration

[ ] jbe: Generic projects must be audited carefully prior any release. For the
	 0.10.6 release, ARM and PowerPC projects where updated, but the x86
	 project was/is still on 0.10.5!

[ ] jbe: working with hd.img is very delicate. The incomplete partition table
	 confuses the linux kernel, so any rewrite of the image after done
	 one time fails with "no space left on device". Also fdisk fails
	 when trying to repair this partition table. Only Windows can
	 rewrite the partition table in this case. After this, also Linux
	 is able to write to the hard disk again!
	 But the BIOS and Kernel on target side are successfull. Problem
	 happend on SUSE-10.1 on host side and an USB to IDE adapter
	 to initial write the hd.img to the harddisk.

[ ] jbe: most of the time thttpd does not respond to the USR1 signal.
	  - the start/stop script fails to stop this service

[x] jbe: Switching from generating hd image to jffs2 image _rebuilds_
	 the the whole project!

	 Known Problem: the virtual-cross-tools depends on host-mtd-utils,
	 which is selected by JFFS2. this must depend on images somewhere.
	 mkl knows how to fix it...

[ ] jbe: hd images must be built from ipkgs to support the ipkg tool
	 on the target

[ ] jbe: review all READMEs, COMPILE-TESTs, SPECIFICATIONs and so on files
	 in the ptxdist install folder. Most of them are trash only

[ ] jbe: alsa-lib creates funny pathes at the install stage

[X] jbe: current trunk complains
	glib.make:40: warning: overriding commands for target `/home/all_src/glib-2.8.6.tar.bz2'
	host-glib.make:38: warning: ignoring old commands for target `/home/all_src/glib-2.8.6.tar.bz2'

[x] jbe: if the "ptxdist toolchain" step was omited, ptxdist complains
	 about toolchain vendor instead of missing toolchain

[ ] jbe: it seems to extract a kernel always touches the local
	 kernelconfig.target (or similar). This confuses svn, as
	 this file always changes without calling "ptxdist kernelconfig"

[ ] jbe: remove ptxdist's documentation from the installation.
	 It's now useless and outdated as a better alternative
	 is present with the application notes

[ ] jbe: cleanup rules/other/Toplevel.make

[ ] jbe: org-server fails if no xkbfile is selected

[ ] jbe: use tmpfs everywhere instead of the ramfs

[ ] jbe: audit BROKEN marked packages

[ ] lfu: some mountable devices are available after udev started. hence
	we need an extra mount script to mount all entries in fstab instead
	out of rcS

[ ] lfu: often used config files for X like xorg.conf or xinitrd shall be
	integrated into ptxdist generic files. the installation shall follow
	the scheme of other rootfs configuration files

[ ] when the drop command is used without a stage, complain about that
    and suggest to use clean instead

After branch:

[ ] rsc: audit if 'ptxdist get' fetches all packets correctly
    [ ] http://www.sqlite.org/sqlite-3.2.8.tar.gz does not exists any more
    [ ] ftp://ftp.leo.org/historic/comp/os/unix/networking/mgetty/mgetty1.1.30-Dec16.tar.gz
        503: Service Unavailable

[ ] update ChangeLog

After release:

[ ] rsc: update OSELAS.Toolchain and OSELAS.Crosstool to use this version.

TODO for 0.10.x
===============

[ ] bbu: Discuss the future kconfig include scheme. At the moment, overriding
	 single *.in files is a real pain.

	 - There should be a way to autogenerate the needed files
	   before starting kconfig or kconfig should just ignore
	   double definitions (which might be a bad idea)

	 Features needed:

	 - override *.make as well as *.in
	 - create a sane menu structure

[ ] bbu: check ptxdist first-time-usage scenario for chicken-egg problems
         e.g. if you don´t set sane defaults for PTXCONF_SETUP_PROJECTPATH,
	 ptxdist won´t find its own projects.

[ ] bbu: Discuss the whole definition of "package". At the moment,
	 most package options are scattered across two or more
	 *.in or *.make files, making "drop-in replacements" nearly
	 impossible.

[ ] audit all packages if they change the target CPU (with --march or --mtune)

   [ ] openssl does so

[ ] jbe: uRamdisk should be built from ipkg packages instead of root/ content!

[ ] rsc, bbu: audit THING mechanism in get stage, looks a little bit
    overcomplicated

[ ] jbe: Adding "ant" to the required host tools. Emit a warning if its not
    present, but not fail (required only to build jvisu)

    Update 2007-01-24:	rsc: rejected. Ant is only needed by tools which
			use Java, and we don't want a prerequisite to
			java in PTXdist. Maybe add some loud warning if
			packets are built which use java, such as jvisu.

[ ] rsc: fix 'ptxdist newpacket host'; find out what mkl intended with
    this "class" mechanism and make sure it produces sane output. Check
    with mkl.

    Example: ptxdist newpacket host-existing-target:

    - asks for version number, which should be derived from existing
      target version
    - asks for URL, but we want to use the download mechanics from
      target
    - should output warning that you have to change := into = for
      corresponding target packet

[ ] discuss UID of user "rpcuser"

[ ] discuss UIDs and GIDs of other important system users

[ ] jbe: reduce directory count on top level, combine build-* and
    local-* into a shared subdir rsc: we've agreed on this variant:

    	build-host/
	build-target/
	build-cross/
	local/
	local-target/
	local-cross/

[ ] repair make makro 'install'; there are sometimes three """.
    See procps.install for reference.

[ ] jbe: why does fam-2.7.0 always try to run the autotools? It fails on most
    modern systems -> mark as broken. rsc: real fix: find out why and fix.

[ ] jbe: replacing an *.make file for project use is easy. But how to
    replace a *.in file? rsc: no 0.10.6 issue, defer

    rsc: We have a problem with the dependency generator: if we have a
    packet which is already in ptxdist a second time in the local
    project, ptxdist includes _both_ .in files, resulting in the
    dependencies from the ptxdist version being superimposed on the
    local project ones.

    jbe: correct the ouput of "ptxdist menuconfig" when configuration is finished.
    The output of
    *** End of configuration.
    *** Execute 'make' to build the project or try 'make help'.
    is outdated...

    rsc: while doing this, update to a recent kconfig version, with
    saner colours instead of this unreadable yellow.

[ ] we seem to need python2.3-dev, reported by Marco Cavallini:

[ ] Profiling support (kernel and userspace)
    best with host visualisation

[.] jbe: more help texts
[ ] bbu: audit *.in and *.make files, broken install definitions everywhere [tm]
	 (mostly c&p errors, probably)

[ ] bbu: reimplement cuckoo-test for ptxdist 0.10 series
	 - files w/ wrong build-arch
	 - missing libs
	 - statistics
	 - stripped / non stripped files

[ ] bbu: reimplement generic pre- and post-flight checks for 0.10.x
	 - dependency checks
	 - cuckoo-test
	 - user defined checks
	 - package tests
	 - in-system test -> ltp

[ ] bbu: generic logging aproach w/ single and combined logs
	 - combined log for normal use
	 - build-logs per package, test-suite, etc would
	   support features like
	   	- "quiet build", while still providing the full error
		   output of the failing target
		- helpdesk notification fetaures
	 	- build statistics
	 	- better support for GUI driven builds

[ ] bbu,rsc,mkl: brain storming session

	Discussion about the whole PTXdist build-,
	deployment- and testing-mechanics:

	- Support different target package formats
	  Rationale: - Some standardization aproaches like carrier grade linux
		       or the linux standard base make rpm or dpk packages
		       mandatory.
		     - Users asked for it
	  Which package formats would be useful ?
	  		- ipkg
			- deb
			- rpm
			- openpkg
			- plain directory tree / tar[.gz]
	  ! Depends: Check rpm and deb database footprint
	  ! Depends: Discussion about the current installation scheme

	- Support binary package distribution
	  Rationale: Most Customers don´t want to build the
	  	     base System on their own. They want a
		     well defined base system and then apply
		     some changes, add files (probably on the fly)
		     by installing binary packages.
	  ! Problem: This might break the current PTXdist philosophy
	  	     (executeable documentation)
	  ! Depends: We would need some kind of install-filter or exclude-list

	- Deployment / Testing Frontend (maybe GUI driven)
	  Rationale: needed in a binary package distribution scenario
	  	     to customize the installation from a generic
		     binary package.

	- Support precompiled customer environment
	  Rationale: This would reduce compile times for
	  	     the customer, since he would start
		     directly w/ his own application
		     w/o the need for a full ptxdist run.
	  ! Problem: Build Hierarchy is not relocateable
	  	     -> libtool problems
	  ! Problem: Make depends on timestamps
	  Possible solutions:
	  	     - create intermediate build labels / paths
		     - tweak things during installation
		       (dirty, dirty ... how do we handle updates?)
		     - Provide a "full blown" toolchain with all
		       host-tools and chroot into it
		       (dirty, dirty ... needs root privileges)
		     - Provide a "full blown" toolchain with all
		       host-tools inside a virtual machine,
		       vmware image or CoLinux
		       (dirty, slow, but runs even with Windows)
		       (nasty, since it would be some kind of closed box solution)
		       (problem: how do we handle alternative toolchains in this case?)

	- Support Partitioned Images
	  ! Problem: We don´t want to use root privileges
	  ! Problem: Generate valid Partition Tables
	  ! Problem: ipkg list has to work inside the
		     target system, so we would need
		     two or more diffenrent installation "views":
		     - The partition image generation view,
		       which
		       a) respects partition boundaries
		       b) rewrites the resulting installation
		          paths respectively.
		     - The binary target package view (i.e. ipkg)
		       which
		       a) generates apropriate pre- and post-
		          installation scripts to i.e. remount
			  the partitions read/write
		       b) creates binary packages, rooted in
		          "/" on the target.
		     - An optional "user-view", where something
		       else can happen, i.e. transfering stuff
		       to an ftp server or mounting an image
		       with root privileges or as user via fuse.

	- TODO:
		- Create Use Cases:
			- What is covered by the current design
			- What would be nice, well designed and sane
			- What does $JON_DOE_HACKER  want
			- What does $JON_DOE_HACKER _need_
			- What does $CUSTOMER  want
			- What does $CUSTOMER _need_
		- Draw the big picture :-)
		- Create Roadmap



-------------------------------
target: host-ipkg-utils.install
-------------------------------

mkdir -p ""/home/koan/ptxtest/generic_test/local""/usr/bin
# ipkg.py is forgotten by MAKE_INSTALL, so we copy it manually
# FIXME: this should probably be fixed upstream
make[1]: Entering directory
`/home/koan/ptxtest/generic_test/build-host/ipkg-utils-1.7'
cp ipkg-build ipkg-deb-unbuild ipkg-unbuild ipkg-compare-versions
ipkg-upload /home/koan/ptxtest/generic_test/local/usr/bin
python setup.py install --prefix=/home/koan/ptxtest/generic_test/local/usr
/usr/lib/python2.3/distutils/dist.py:213: UserWarning: 'licence'
distribution option is deprecated; use 'license'
  warnings.warn(msg)
running install
error: invalid Python installation: unable to open
/usr/lib/python2.3/config/Makefile (No such file or directory)
make[1]: *** [install] Error 1
make[1]: Leaving directory
`/home/koan/ptxtest/generic_test/build-host/ipkg-utils-1.7'
make: ***
[/home/koan/ptxtest/generic_test/state/host-ipkg-utils.install] Error 2

[x] if a packet is not selected, it's dependencies are not generated. If
    you kick a stage then, the dependend stages are not executed.
    Solution: generate the stages as well, so we get an error in that
    case.

[ ] Start a "Global Patch Repository Unification Project". Potential
    members:

    	* PTXdist
	* T2
	* OpenEmbedded
	  http://www.openembedded.org/repo/org.openembedded.dev/packages/
	* Gentoo
	* Debian
[ ] jbe: timezone files installation doesn't work as expected

[ ] jbe: if ipkg building crashes, PTXdist doesn't break. rsc: see
    pipeline error fixing in scripts/libptxdist.sh

[ ] rsc: ChangeLog automatism:
    http://www.simios.org/node/266?PHPSESSID=a736cf6396ad789e0148d9690761e733

[ ] ero: add -mcpu=... to PTXCONF_TARGET_EXTRA_CPPFLAGS, to let host tools
    definitely barf if they are accidently being built with the target
    compiler.

[ ] mol: ptxdist commands behave differently for arguments which exceed
    the "current" command; some continue parsing and some exit.

[ ] mol: add possibility to 'ptxdist print' more than one variable in
    one make call  bbu: maybe some kind of "ptxdist env" as in env(1) ?

[ ] check if ${PTXCONF_SYSROOT_TARGET} can be written to and barf if not

[ ] add sanity checks for all user configurable variables (especially
    paths)

[ ] audit project files for CROSS_AUTOCONF

[ ] Problem: When doing things like "PKG_CONFIG_PATH=bla something",
    something does not inherit the environment variable PKG_CONFIG_PATH.
    To achieve this properly, we need to export these variables to the
    calling shell. The same applies to lots of variables from
    Rules.make.

[ ] Write macros $(call compile) and $(call configure).

[ ] libxslt crypto support is broken

[ ] add menu entry for user local config files in /etc

[ ] image build mechanism tries to access data and infos from already
    disabled targets! (if they where enabled before). It does so
    unless a manually delete of the remaining and (now) useless targets
    in "state/"

Interesting packets
-------------------

[ ] RSC: http://htop.sourceforge.net/
[ ] RSC: http://cryptmount.sourceforge.net/
[ ] RSC: http://www.nongnu.org/failmalloc/
[ ] RSC: http://stapgui.sourceforge.net
[ ] RSC: http://home.eol.ca/~parkw/index.html
[ ] RSC: http://podgorny.cz/moin/UnionFsFuse
[ ] RSC: http://perso.wanadoo.fr/sebastien.godard/
[ ] RSC: http://clpbar.sourceforge.net/
[ ] RSC: http://xmlrpc-c.sourceforge.net/
[ ] RSC: http://www.vanheusden.com/httping/
[ ] RSC: http://urunlevel.sourceforge.net/
[ ] RSC: http://www.freshmeat.net/projects/bootutils
[ ] RSC: ethtool: http://sourceforge.net/project/showfiles.php?group_id=3242&package_id=19201
[ ] RSC: ntpclient: http://doolittle.faludi.com/ntpclient/
[ ] RSC: openntpd: http://www.openntpd.org/
[ ] RSC: http://www.reportlab.com/ftp/
[ ] RSC: http://rlib.sicompos.com/
[ ] RSC: MatrixSSL
[ ] MKL: lilo, tinylogin targetinstall (RSC: find out what MKL means here)
[ ] RSC: finish integration of zebra
[ ] RSC: install e2fsck

Test suite components to be added
=================================

[ ] RSC: http://ltp.sourceforge.net/tooltable.php
[ ] RSC: Add more test suite stuff:
    http://gcc.gnu.org/install/test.html
    http://www.plumhall.com/stec.html
[ ] RSC: lmbench
[ ] RSC: add regression tests from crosstool
[ ] RSC: look at Herbert Poetzl's cross test stuff:
       	 20040224182505.GA25038@MAIL.13thfloor.at
         Update: seems to have disappeared.
[ ] RSC: look at Linux Kernel Headers project:
    http://ep09.pld-linux.org/~mmazur/linux-libc-headers/
[ ] RSC: audit for LSB compatiblity; are there any handable tests for
    checking compliance?
[ ] RSC: have a look at http://asic-linux.com.mx/~izto/checkinstall/

Old TODOs
=========

[?] JBE: http://gcc.gnu.org/bugzilla/show_bug.cgi?id=27363

[ ] bump bluez-utils/libs to 3.0 (needs dbus)

[ ] port scripts/mkprefix to non-perl

[x] ptxdist arch <arm|um|ppc|....>

    Split build-target into build-${PTXCONF_ARCH}

[ ] Tree Structure
    RSC: Find sane place for generic files from projects/generic
    ERO: Make subdirectories, e.g. for x.org stuff. Might use symlinks
    to avoid changing the scripts.
    SHA: push make and in files into subdirs, add patches to that dirs
    as well.

[ ] Program Name Sorting
    JBE: Sort program entries in "Shell & Console Tools" and other menus by
    function, not by program name! Especially if there is more than one
    program that can do the job (see menu entries "Apache 1", "Apache 2" and
    "thttpd").  To be more concise the whole group should have a checkbox.
    Not until someone unlocks the "HTTP Server" group he can see the
    programs in this group.
    RSC: Please let's stay with alphabetic sorting in the menues. You
    don't find programs any more otherwhise. If the structure is not
    clear enough we should clean it up.

[ ] Graphical Configurator
    JBE:  For a graphical configurator instead of the ncurses one:
    Maybe ship a static linked "qconfig" version, otherwise the
    user also has to install the qt development libraries
    Same with ncurses (menuconfig), or the user has to be forced
    to install the development libraries for ncurses
    RSC: good idea, but only for customer packets. Maybe this will
    become obsolete when we have a good Eclipse based configurator.

[ ] JBE:  Make target "qconfig" starts target "oldconfig", even if
    the configuration was aborted! Target "menuconfig" doesn't

[ ] Startup Documentation
    JBE: add documentation to start from scratch with "make setup"
    this menu should provide the toolchain, all pathes to everything
    (also to a prebuilt toochain). All other targets should be project
    specific.

[ ] RSC: make projects doesn't find local_projects/something, if
    something is a softlink and not a directory.

[ ] RSC: replace perl by (modern) sed -i (hosttool)

[ ] RSC: Do ipkg stuff during make images

[ ] RSC: in NATIVE=1 mode libpthread.so.0 is not copied; find out why

[ ] MKL: let get stages depend on the actual makefile

[ ] RSC: Finish autotoolisation of chrony. The old features from the
    handwritten configure script have to be added; readline dependency
    is now temporarily fixed, it should be made optional again.

[ ] RSC:sed: replace all "sed" occurences by $(SED) and maybe switch to
    a newer GNU sed, which has to be packaged as a hosttool then.

[ ] RSC:Invent a project_clean mechanism (workaround done)

[x] RSC:is "select GLIBC_DEBUG" in gdb.in necessary??

[ ] sandeep: add a script to setup a new project interactively

[ ] RSC: do module stuff in kernel only when modules are enabled
    in kernel configuration

[ ] RSC: audit bash for configure/menu entry consistency

[ ] RSC: bing outputs strange large numbers when being compiled for ARM
    :-) Add test suite for floating point.

[ ] RSC: port LTT-ng

[ ] RSC: Mozilla has still problems with cross compilation. See the
    following Bugzilla entries for possible solutions:
    http://bugzilla.mozilla.org/show_bug.cgi?id=104541
    http://bugzilla.mozilla.org/show_bug.cgi?id=172651

[ ] RSC: add some useful statistics at the end of build (root size, image
    size etc.).

[ ] RSC: fix busybox extract script to support "select CONFIG_foo"

[ ] RSC: make MTDutils release and, by the way, fix build process.
    This "override" mechanism in the Makefile seems to be broken.
    MKL: mtdutils buildprocess fixed, splitted into 2 seperate file
    mtd.make and xchain-mtd.make 'override' seems to be working

[ ] RSC: audit all configure calls to be relative; configure scripts
    seem to have major problems when being called with absulute path

[ ] RSC: test flash

[ ] RSC: finish integration of iwconfig

[ ] RSC: add #ifdef __cplusplus ... #else ... #endif to bits/in.h

[ ] RSC: add .in file for xvkbd; integrate fixes for Makefile...

[ ] MKL: check openssl works with arm big endian (-DL_ENDIAN doesn't look good)

[ ] MKL: gmp3 cannot produce shared libc for ppc target (host i686-linux)

[ ] MKL: uclinux, patch breaks due to unclean produced patch at uclinux

[ ] MKL: test betaftp, old breaks due to a patch from DKE

[ ] MKL: test wxwindows

[ ] MKL: gawk fix prefix, due to hard coded path

[ ] MKL: integrate ldd (./build/glibc-2.2.5/elf/ldd.bash.in)

[ ] MKL: tweak wireless to xcompile

[ ] RSC: you currently need gdk-pixbuf-csource on the host

[ ] RSC: pango has a patch which has to be verified (GLIB_CFLAGS)

[ ] RSC: you currently need libXcursor.so.* and xcursorgen on the
    development host

[ ] RSC: replace bootdisk build mechanism by genext2fs; mke2fs is able
    to reserve N blocks at the beginning of the image!

[ ] KUB: busybox/ash job control is broken

[ ] RSC: add checksums for download

[ ] RSC: restructure config file layout

[ ] RSC: add a test: if #!/bin/sh scripts return
    "/bin/sh: bad interpreter: Permission denied"
    tell the user to look if his filesystem was monted
    with the "exec" option

[ ] RSC: check for uImage targets: have to depend on vmlinux, not on
    zImage.

[ ] LGR: concept for debug levels: strip, -g, -S

[ ] LGR: key infrastructure: integrate signing, activate this only
    when running the release cycle.

[ ] BBU: Implement scheme for alternative download-URLs as
    fallback (e.g. mirrors)

[ ] BBU: rsync, git, svn URLs -> maybe download, repackage as tar for local use?

[ ] BBU: show required cross-tool, host-gcc and -glibc-versions (compilercheck)

[ ] SHA: scripts/make_image_root.sh puts all ipkg packages from imagedir into the
    resulting images, even those which are lying there from old builds

[ ] LFU: We want add automounting during boot for extra storage devices.
	 Currently we call mount -a before we have loaded extra modules, which
	 means that storage devices on i.E. usb will not be to be mounted
	 automaticaly during boot, if the modules are not compiled in. We can
	 do this with a script, which is called after /etc/init.d/modules.
	 Additionally We might want to add mechanismen to determine extra mount
	 device and mount points and generate the entry in customized /etc/fstab
[ ] LFU: fix libgd
[ ] LFU: add timezone support to ptxdist (depends on Toolchain newer than 1.1.0
	 Release)
DONE
----

[x] jbe: fakeroot seems to have problems to run in a 64 bit environment. Not
	 at the image creation stage, only at the "install" stage
	 Update:
	 - fakeroot fails on all glibc 2.5 based systems

[x] jbe: rules file for zlib is broken since ptxdist-0.10.6!
	 What the hell means libz.so.0.0.0???? In ptxdist-0.10.5 it was libz.so.1.2.3!

[x] jbe: transfer ipkg's runtime configuration to the ipkg packet itself
	-> its not rootfs

[x] jbe: uboot-1.2.0's build system is not multi processor save
	-> supress -j option

[x] pureftp's configure runs twice and needs host's autotools!

[x] audit the logfile of AllYesArm for autotool calls

    Update 2007-01-24:	rsc: the solution is simple: just add
    			AM_MAINTAINER_MODE to the configure.in/ac if the
			autotools are re-run. This avoids that the
			maintainer dependencies are put into the packet.

   [x] util-linux: re-calls automake during compile;
   [x] libxslt: re-calls automake during compile
   [x] pure-ftpd: re-calls automake during compile

[x] jbe: all local sources (file://) are still do a touch into the package directory.
    (into "Source Directory"). If this file gets deleted, ptxdist builds the whole
    package again (and recreate the file in the Source Directory).

    Update 2007-01-24:	fixed; order of PACKET-empty check in extract
    			was changed.

[x] jbe: Chrony fails to compile

    Update 2007-01-25:	jbe: better fix; force chrony to use the wide ncurses lib
			if present, else the non wide one
    Update 2007-01-19:	rsc: fixed; ncurses didn't install the
			non-widechar variants of the libraries.

[x] OSELAS.BSP-Pengutronix-TechPool-trunk$ p select ptxconfig.dotgnu
    /home/rsc/svn/ptxdist-trunk/scripts/libptxdist.sh: line 26:
    /media/rscusb1_plain/svn/oselas/bsp/pengutronix/huettinger/OSELAS.BSP-Pengutronix-TechPool-trunk/ptxconfig:
    No such file or directory

    Update 2007-01-19:	rsc: fixed

[x] jbe: starting with a new and empty project should provide the user with
    a generic (and default) ptxconfig instead of an error message.
    But it should not do it automatically! It should ask before doing it!
    Otherwise we will end up with many ptxconfig files in many directories...

    Update 2007-01-19:	rsc: it's not so easy as "touch ptxconfig &&
			ptxdist oldconfig". Error message is improved
			the preferred way to start a new project is
			cloning.

[x] jbe: host-mknbi fails to build

    Update 2007-01-19:	rsc: doesn't work, hasn't for ages, deleted

[x] jbe: liboldX fails to build the ipkg but the build continues!

    Update 2007-01-19:	rsc: fixed

[x] unbreak host-zlib; it is necessary for host-umkimage if there is no
    zlib devel packet installed on the host.

[x] omitting glibc installation should be possible, first hack attempt
    done

    Update 2007-01-12:	No idea what the reason was; we don't have a
    			concept for anything else than shared libs and
			glibc.

[x] rsc: fakeroot-the-hosttool seems not to be found - reported by wrap. It
    looks to me as if $(PTXDIST_WORKSPACE)/local/bin has to be included
    into the path somehow. Ask mkl.

[x] Our current host tools use their target counterparts for getting the
    sources; if the target counterpart is not selected, the dependencies
    are not created correctly! Test: switch off ipkg but activate
    host-ipkg.

[x] audit 'get' stage

[x] Menu Structure
    JBE: Use menuconfig instead of menu + configs whereever possible.
    It looks nicer in "menuconfig" and its much better supported when using
    "xconfig"

[x] ptxdist should reject working as ROOT

[x] add prerequisite checks to configure script; find out which
    prerequisites we really need.

[x] Toolchain selection
    JBE:  add an identifier to a (central) toolchain (in "make setup").
    It should be possible to use more than one toolchain in a local
    ptxdist folder (for different targets/projects). So the idetifier
    selects the right toolchain for this project. This identifier
    simplifies the toolchain selection. There could be a central
    folder in the system with all informations (and identifiers)
    about any available toolchain installed on this system.
	 --> done: "ptxdist toolchain path" per project

[x] discuss UID of user "nobody" and GID of "nogroup"

[x] jbe: ptxdist images fails for jffs2 fileimage creation
	it seems local-host/sbin is not in the PATH

[x] jbe: procps.install stage fails with:

	make: Ungültige Option -- y
	make: Ungültige Option -- y
	make: Ungültige Option -- L
	make: Ungültige Option -- /
	make: Ungültige Option -- L
	make: Ungültige Option -- /

	Seems the install macro emits: make [...] CFLAGS=""" LDFLAGS=""" [...]

[x] jbe: udev needs rules to control permissions on device nodes; jbe
    currently writes docs for this.

[x] jbe/rsc: /etc/resolv.conf and /etc/nsswitch.conf:
    Find a solution to generate DNS configuration files from other sources
    like boardsetup (I have no clue what this means).
    "Then either have no resolv.conf at all (use /etc/hosts only), or generate
    resolv.conf from 'ptxdist boardsetup' information and generate a
    sane nsswitch.conf."

[x] rsc: check if we can update mtd-utils from 1.0.0 to 1.0.1; mkl has
    already prepared the patches; find out why the revision number was
    not bumped. mkl: 1.0.1 needs acl, so we stay with 1.0.0

[x] ssh: server start scripts are missing

[x] ssh: key gen mechanics needed

[x] dbus needs user messagebus -> /etc/passwd; jbe: needs other user,
    non-root; add this user to /etc/passwd. Debian has a user called
    "messagebus", we should do it the same way. Define a sane UID (ask
    jbe)

[x] rsc: find out why mkl added this new dependency mechanism which
    searches for ${${LABEL}_DIR}/.ptx-extract.

[x] rsc: merge mkl's host/cross/target-pkg-config fixes. We need this to
    have a proper x.org and host-dbus.

[x] jbe: make DHCP client useful on the target. Currently only the binary
    will be built and copied, but does not work on the target

[x] jbe: update DHCP tp 3.0.5 or correct path to 3.0.4

[x] jbe: creating links into non existent directories fails, but does
    not break the build!

    Update 2007-01-12:	rsc/mkl: the install_link macro has mkdir -p
			calls in all relevant places; should not
			happen -> jbe: retest.
