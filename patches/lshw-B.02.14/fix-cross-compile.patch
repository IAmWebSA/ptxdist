fix cross-compilation

Signed-off-by: Remy Bohmer <linux@bohmer.net>
---
 src/Makefile |   10 +++++-----
 1 file changed, 5 insertions(+), 5 deletions(-)

Index: lshw-B.02.14/src/Makefile
===================================================================
--- lshw-B.02.14.orig/src/Makefile
+++ lshw-B.02.14/src/Makefile
@@ -18,10 +18,10 @@ export DATADIR
 CXX?=c++
 INCLUDES=-I./core/
 DEFINES=-DPREFIX=\"$(PREFIX)\" -DSBINDIR=\"$(SBINDIR)\" -DMANDIR=\"$(MANDIR)\" -DDATADIR=\"$(DATADIR)\"
-CXXFLAGS=-g -Wall -g $(INCLUDES) $(DEFINES) $(RPM_OPT_FLAGS)
-LDFLAGS=-L./core/ -g
+CXXFLAGS= ${CPPFLAGS} -g -Wall -g $(INCLUDES) $(DEFINES) $(RPM_OPT_FLAGS)
+MYLDFLAGS:= ${LDFLAGS} -L./core/ -g
 ifneq ($(shell $(LD) --help 2| grep -- --as-needed), )
-	LDFLAGS+= -Wl,--as-needed
+	MYLDFLAGS+= -Wl,--as-needed
 endif
 LDSTATIC=-static
 LIBS=-llshw -lresolv
@@ -38,7 +38,7 @@ core:
 	+make -C core all
 
 $(PACKAGENAME): core $(PACKAGENAME).o
-	$(CXX) $(LDFLAGS) -o $@ $(PACKAGENAME).o $(LIBS)
+	$(CXX) $(MYLDFLAGS) -o $@ $(PACKAGENAME).o $(LIBS)
 
 .PHONY: gui
 gui: core
@@ -52,7 +52,7 @@ nologo:
 static: $(PACKAGENAME)-static
 
 $(PACKAGENAME)-static: core core/lib$(PACKAGENAME).a $(PACKAGENAME).o
-	$(CXX) $(LDSTATIC) $(LDFLAGS) -o $@ $(PACKAGENAME).o $(LIBS)
+	$(CXX) $(LDSTATIC) $(MYLDFLAGS) -o $@ $(PACKAGENAME).o $(LIBS)
 	$(STRIP) $@
 
 .PHONY: compressed
