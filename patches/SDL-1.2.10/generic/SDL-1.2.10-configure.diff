#
# Submitted-By: Erwin Rol Mar 19 2006
# Committed-By: Erwin Rol
#
# Error:
# sdl-config causes problems with linking
#
# Description:
# This patch adds a sdl.pc pkg-config support
#
# State:
# Unknown
#
--- SDL-1.2.10.orig/configure	2006-05-17 08:53:45.000000000 +0200
+++ SDL-1.2.10/configure	2006-06-08 11:35:01.000000000 +0200
@@ -25729,7 +25729,7 @@
 /usr/openwin/share/include'
 
 if test "$ac_x_includes" = no; then
-  # Guess where to find include files, by looking for Intrinsic.h.
+  # Guess where to find include files, by looking for Xlib.h.
   # First, try using that file with no special directory specified.
   cat >conftest.$ac_ext <<_ACEOF
 /* confdefs.h.  */
@@ -25737,7 +25737,7 @@
 cat confdefs.h >>conftest.$ac_ext
 cat >>conftest.$ac_ext <<_ACEOF
 /* end confdefs.h.  */
-#include <X11/Intrinsic.h>
+#include <X11/Xlib.h>
 _ACEOF
 if { (eval echo "$as_me:$LINENO: \"$ac_cpp conftest.$ac_ext\"") >&5
   (eval $ac_cpp conftest.$ac_ext) 2>conftest.er1
@@ -25764,7 +25764,7 @@
 sed 's/^/| /' conftest.$ac_ext >&5
 
   for ac_dir in $ac_x_header_dirs; do
-  if test -r "$ac_dir/X11/Intrinsic.h"; then
+  if test -r "$ac_dir/X11/Xlib.h"; then
     ac_x_includes=$ac_dir
     break
   fi
@@ -25778,18 +25778,18 @@
   # See if we find them without any special options.
   # Don't add to $LIBS permanently.
   ac_save_LIBS=$LIBS
-  LIBS="-lXt $LIBS"
+  LIBS="-lX11 $LIBS"
   cat >conftest.$ac_ext <<_ACEOF
 /* confdefs.h.  */
 _ACEOF
 cat confdefs.h >>conftest.$ac_ext
 cat >>conftest.$ac_ext <<_ACEOF
 /* end confdefs.h.  */
-#include <X11/Intrinsic.h>
+#include <X11/Xlib.h>
 int
 main ()
 {
-XtMalloc (0)
+XrmInitialize ()
   ;
   return 0;
 }
@@ -33086,7 +33086,7 @@
 
 
 
-                                        ac_config_files="$ac_config_files Makefile sdl-config SDL.spec SDL.qpg"
+                                                  ac_config_files="$ac_config_files Makefile sdl-config SDL.spec SDL.qpg sdl.pc"
           ac_config_commands="$ac_config_commands default"
 cat >confcache <<\_ACEOF
 # This file is a shell script that caches the results of configure
@@ -33620,6 +33620,7 @@
   "sdl-config" ) CONFIG_FILES="$CONFIG_FILES sdl-config" ;;
   "SDL.spec" ) CONFIG_FILES="$CONFIG_FILES SDL.spec" ;;
   "SDL.qpg" ) CONFIG_FILES="$CONFIG_FILES SDL.qpg" ;;
+  "sdl.pc" ) CONFIG_FILES="$CONFIG_FILES sdl.pc" ;;
   "default" ) CONFIG_COMMANDS="$CONFIG_COMMANDS default" ;;
   "include/SDL_config.h" ) CONFIG_HEADERS="$CONFIG_HEADERS include/SDL_config.h" ;;
   *) { { echo "$as_me:$LINENO: error: invalid argument: $ac_config_target" >&5
