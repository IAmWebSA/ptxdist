#
# Submitted-By: Erwin Rol Mar 19 2006
# Committed-By: Erwin Rol
#
# Error:
# Library path for ALSA library
#
# Description:
# Patch taken from Fedora Core 5 RPM
#
# State:
# Unknown
#
Index: SDL-1.2.9/configure
===================================================================
--- SDL-1.2.9/configure	(revision 92)
+++ SDL-1.2.9/configure	(working copy)
@@ -22244,12 +22244,13 @@
   enable_alsa_shared=yes
 fi;
             if test "x`echo $ALSA_LIBS | grep -- -L`" = "x"; then
-                if test "x`ls /lib/libasound.so.* 2> /dev/null`" != "x"; then
-                    ALSA_LIBS="-L/lib $ALSA_LIBS"
-                elif test "x`ls /usr/lib/libasound.so.* 2> /dev/null`" != "x"; then
-                    ALSA_LIBS="-L/usr/lib $ALSA_LIBS"
-                elif test "x`ls /usr/local/lib/libasound.so.* 2> /dev/null`" != "x"; then
-                    ALSA_LIBS="-L/usr/local/lib $ALSA_LIBS"
+	        pfx=${libdir##*/}
+                if test "x`ls /${pfx}/libasound.so.* 2> /dev/null`" != "x"; then
+                    ALSA_LIBS="-L/${pfx} $ALSA_LIBS"
+                elif test "x`ls /usr/${pfx}/libasound.so.* 2> /dev/null`" != "x"; then
+                    ALSA_LIBS="-L/usr/${pfx} $ALSA_LIBS"
+                elif test "x`ls /usr/local/${pfx}/libasound.so.* 2> /dev/null`" != "x"; then
+                    ALSA_LIBS="-L/usr/local/${pfx} $ALSA_LIBS"
                 fi
             fi
             alsa_lib_spec=`echo $ALSA_LIBS | sed 's/.*-L\([^ ]*\).*/\1\/libasound.so.*/'`
@@ -22848,7 +22849,8 @@
 else
   enable_arts_shared=yes
 fi;
-                arts_lib_spec="$ARTSC_PREFIX/lib/libartsc.so.*"
+	        pfx=${libdir##*/}
+                arts_lib_spec="$ARTSC_PREFIX/${pfx}/libartsc.so.*"
                 arts_lib=`ls $arts_lib_spec | sed 's/.*\/\(.*\)/\1/; q'`
                 echo "-- $arts_lib_spec -> $arts_lib"
                 if test x$use_dlopen != xyes && \
@@ -23329,7 +23331,7 @@
 /usr/openwin/share/include'
 
 if test "$ac_x_includes" = no; then
-  # Guess where to find include files, by looking for Intrinsic.h.
+  # Guess where to find include files, by looking for Xlib.h.
   # First, try using that file with no special directory specified.
   cat >conftest.$ac_ext <<_ACEOF
 /* confdefs.h.  */
@@ -23337,7 +23339,7 @@
 cat confdefs.h >>conftest.$ac_ext
 cat >>conftest.$ac_ext <<_ACEOF
 /* end confdefs.h.  */
-#include <X11/Intrinsic.h>
+#include <X11/Xlib.h>
 _ACEOF
 if { (eval echo "$as_me:$LINENO: \"$ac_cpp conftest.$ac_ext\"") >&5
   (eval $ac_cpp conftest.$ac_ext) 2>conftest.er1
@@ -23364,7 +23366,7 @@
 sed 's/^/| /' conftest.$ac_ext >&5
 
   for ac_dir in $ac_x_header_dirs; do
-  if test -r "$ac_dir/X11/Intrinsic.h"; then
+  if test -r "$ac_dir/X11/Xlib.h"; then
     ac_x_includes=$ac_dir
     break
   fi
@@ -23385,11 +23387,11 @@
 cat confdefs.h >>conftest.$ac_ext
 cat >>conftest.$ac_ext <<_ACEOF
 /* end confdefs.h.  */
-#include <X11/Intrinsic.h>
+#include <X11/Xlib.h>
 int
 main ()
 {
-XtMalloc (0)
+XrmInitialize ()
   ;
   return 0;
 }
