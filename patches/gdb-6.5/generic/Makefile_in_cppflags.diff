#
# Submitted-By: Marc Kleine-Budde, 2006-03-20
# Committed-By: Marc Kleine-Budde
#
# Error:
#
# checking for arm-softfloat-linux-gnu-dlltool... arm-softfloat-linux-gnu-dlltool
# checking for arm-softfloat-linux-gnu-windres... arm-softfloat-linux-gnu-windres
# checking for arm-softfloat-linux-gnu-mig... no
# checking for mig... no
# checking for main in -lm... yes
# checking for wctype... yes
# checking for library containing gethostbyname... none required
# checking for library containing socketpair... none required
# checking for library containing waddstr... no
# checking for library containing tgetent... no
# configure: error: no termcap library found
# make[2]: *** [configure-gdb] Error 1
#
# Description:
#
# gdb forgets the {LD,CPP}FLAGS_FOR_TARGET
#
# State:
#
# unknown
#
Index: gdb-6.5/Makefile.in
===================================================================
--- gdb-6.5-orig/Makefile.in.orig
+++ gdb-6.5/Makefile.in
@@ -141,6 +141,7 @@ HOST_EXPORTS = \
 	CC="$(CC)"; export CC; \
 	CFLAGS="$(CFLAGS)"; export CFLAGS; \
 	CONFIG_SHELL="$(SHELL)"; export CONFIG_SHELL; \
+	CPPFLAGS="$(CPPFLAGS)"; export CPPFLAGS; \
 	CXX="$(CXX)"; export CXX; \
 	CXXFLAGS="$(CXXFLAGS)"; export CXXFLAGS; \
 	AR="$(AR)"; export AR; \
@@ -288,6 +289,7 @@ WINDRES = @WINDRES@
 CFLAGS = @CFLAGS@
 LDFLAGS = 
 LIBCFLAGS = $(CFLAGS)
+CPPFLAGS = @CPPFLAGS@
 CXXFLAGS = @CXXFLAGS@
 LIBCXXFLAGS = $(CXXFLAGS) -fno-implicit-templates
 PICFLAG = 
