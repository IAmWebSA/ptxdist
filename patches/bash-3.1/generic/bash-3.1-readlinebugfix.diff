Index: bash-3.1/variables.c
===================================================================
--- bash-3.1.orig/variables.c
+++ bash-3.1/variables.c
@@ -860,9 +860,11 @@ sh_set_lines_and_columns (lines, cols)
 {
   char val[INT_STRLEN_BOUND(int) + 1], *v;
 
+#if defined (READLINE)
   /* If we are currently assigning to LINES or COLUMNS, don't do anything. */
   if (winsize_assignment)
     return;
+#endif /*READLINE*/
 
   v = inttostr (lines, val, sizeof (val));
   bind_variable ("LINES", v, 0);
