---
 Makefile.am  |   55 +++++++++++++++++++
 autogen.sh   |   22 +++++++
 configure.ac |  165 +++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 3 files changed, 242 insertions(+)

Index: fbv-1.0b/configure.ac
===================================================================
--- /dev/null
+++ fbv-1.0b/configure.ac
@@ -0,0 +1,165 @@
+AC_PREREQ(2.59)
+
+AC_INIT([fbv], [1.0b], [bugs@pengutronix.de])
+AC_CONFIG_SRCDIR([main.c])
+AC_CONFIG_HEADERS([config.h])
+AC_CANONICAL_BUILD
+AC_CANONICAL_HOST
+
+AM_MAINTAINER_MODE
+
+CFLAGS="${CFLAGS} -Wall"
+
+#
+# Checks for programs.
+#
+AC_PROG_CC
+
+AM_INIT_AUTOMAKE([foreign no-exeext dist-bzip2])
+
+AC_ARG_WITH(framebuffer,AS_HELP_STRING(
+  [--with-framebuffer=<path>],[set default framebuffer @<:@default=/dev/fb0@:>@]),
+  [
+    DEFAULT_FRAMEBUFFER=$withval
+  ],[
+    DEFAULT_FRAMEBUFFER=/dev/fb0
+  ]
+)
+AC_DEFINE_UNQUOTED(DEFAULT_FRAMEBUFFER, ${DEFAULT_FRAMEBUFFER}, [default framebuffer])
+
+##
+## libungif
+##
+#AC_ARG_WITH(libungif,AS_HELP_STRING(
+#  [--with-libungif=<path>],[enable/disable usage of libungif
+#  or specify a non-default path. The lib is searched for in
+#  path/lib and the header files in path/include. Default
+#  is --without-libungif. If path is ommitted, /usr is
+#  assumed.]),
+#  [
+#    WITH_LIBUNGIF=$withval
+#    if test x$WITH_LIBUNGIF = xyes; then
+#      WITH_LIBUNGIF=/usr
+#    fi
+#  ],[
+#    WITH_LIBUNGIF=no
+#  ]
+#)
+#if test $WITH_LIBUNGIF != no; then
+#  libungif_CFLAGS="-I$WITH_LIBUNGIF/include"
+#  libungif_LIBS="-L$WITH_LIBUNGIF/lib -lungif"
+#else
+#  libungif_CFLAGS=""
+#  libungif_LIBS=""
+#fi
+
+##
+## libjpeg
+##
+#AC_ARG_WITH(libjpeg,AS_HELP_STRING(
+#  [--with-libjpeg=<path>],[enable/disable usage of libjpeg
+#  or specify a non-default path. The lib is searched for in
+#  path/lib and the header files in path/include. Default
+#  is --without-libjpeg. If path is ommitted, /usr is
+#  assumed.]),
+#  [
+#    WITH_LIBJPEG=$withval
+#    if test x$WITH_LIBJPEG = xyes; then
+#      WITH_LIBJPEG=/usr
+#    fi
+#  ],[
+#    WITH_LIBJPEG=no
+#  ]
+#)
+#if test $WITH_LIBJPEG != no; then
+#  libjpeg_CFLAGS="-I$WITH_LIBJPEG/include"
+#  libjpeg_LIBS="-L$WITH_LIBJPEG/lib -ljpeg"
+#else
+#  libjpeg_CFLAGS=""
+#  libjpeg_LIBS=""
+#fi
+#echo "libjpeg_CFLAGS = $libjpeg_CFLAGS"
+#echo "libjpeg_LIBS = $libjpeg_LIBS"
+
+#
+# libpng
+#
+AC_MSG_CHECKING([whether to enable libpng])
+AC_ARG_ENABLE(libpng,AS_HELP_STRING(
+  [--enable-libpng],[enable/disable usage of libpng @<:@default=enable@:>@]),
+  [
+    ENABLE_LIBPNG=$enableval
+  ],[
+    ENABLE_LIBPNG=yes
+  ]
+)
+AC_MSG_RESULT([$ENABLE_LIBPNG])
+if test $ENABLE_LIBPNG = yes; then
+  REQUIRES_LIBPNG="libpng >= 1.2.0"
+  AC_SUBST(REQUIRES_LIBPNG)
+  PKG_CHECK_MODULES([libpng],
+        [${REQUIRES_LIBPNG}],
+        [],
+        [AC_MSG_ERROR([*** ${REQUIRES_LIBPNG} not found by pkg-config on your system])]
+  )
+  AC_DEFINE(HAVE_LIBPNG, 1, [we have libpng])
+else
+  libpng_CFLAGS=""
+  libpng_LIBS=""
+fi
+AC_SUBST(libpng_CFLAGS)
+AC_SUBST(libpng_LIBS)
+
+##
+## libbmp
+##
+#AC_ARG_WITH(libbmp,AS_HELP_STRING(
+#  [--with-libbmp=<path>],[enable/disable usage of libbmp
+#  or specify a non-default path. The lib is searched for in
+#  path/lib and the header files in path/include. Default
+#  is --without-libbmp. If path is ommitted, /usr is
+#  assumed.]),
+#  [
+#    WITH_LIBBMP=$withval
+#    if test x$WITH_LIBBMP = xyes; then
+#      WITH_LIBBMP=/usr
+#    fi
+#  ],[
+#    WITH_LIBBMP=no
+#  ]
+#)
+#if test $WITH_LIBBMP != no; then
+#  libbmp_CFLAGS="-I$WITH_LIBBMP/include"
+#  libbmp_LIBS="-L$WITH_LIBBMP/lib -lbmp"
+#else
+#  libbmp_CFLAGS=""
+#  libbmp_LIBS=""
+#fi
+#echo "libbmp_CFLAGS = $libbmp_CFLAGS"
+#echo "libbmp_LIBS = $libbmp_LIBS"
+
+#
+# Debugging
+#
+AC_MSG_CHECKING([whether to enable debugging])
+AC_ARG_ENABLE(debug,
+    AS_HELP_STRING([--enable-debug], [enable debugging @<:@default=yes@:>@]),
+	[case "$enableval" in
+	y | yes) CONFIG_DEBUG=yes ;;
+        *) CONFIG_DEBUG=no ;;
+    esac],
+    [CONFIG_DEBUG=yes])
+AC_MSG_RESULT([${CONFIG_DEBUG}])
+if test "${CONFIG_DEBUG}" = "yes"; then
+    CFLAGS="${CFLAGS} -Werror -Wsign-compare -Wfloat-equal -Wformat-security -g -O1"
+    AC_DEFINE(DEBUG, 1, [debugging])
+else
+    CFLAGS="${CFLAGS} -O2"
+fi
+
+
+AC_CONFIG_FILES([
+	Makefile
+])
+AC_OUTPUT
+
Index: fbv-1.0b/Makefile.am
===================================================================
--- /dev/null
+++ fbv-1.0b/Makefile.am
@@ -0,0 +1,55 @@
+bin_PROGRAMS = \
+	fbv
+
+fbv_LDADD = \
+	$(bla_LIBS)
+
+AM_CPPFLAGS = \
+	-I$(top_srcdir)/include \
+	-I$(top_builddir)/include \
+	-O2 -D_GNU_SOURCE \
+	$(bla_CFLAGS)
+
+EXTRA_DIST = \
+	autogen.sh
+
+MAINTAINERCLEANFILES = \
+	configure \
+	aclocal.m4 \
+	Makefile.in
+
+#
+# binary
+#
+fbv_SOURCES = \
+	main.c \
+	jpeg.c \
+	gif.c \
+	png.c \
+	fb_display.c \
+	transform.c
+
+#-----
+#OUT	= fbv
+##LIBS	= -lungif -L/usr/X11R6/lib -ljpeg -lpng
+#
+#all: $(OUT)
+#	@echo Build DONE.
+#
+#$(OUT): $(OBJECTS)
+#	$(CC) $(LDFLAGS) -o $(OUT) $(OBJECTS) $(LIBS)
+#
+#clean:
+#	rm -f $(OBJECTS) *~ $$$$~* *.bak core config.log $(OUT)
+#
+#distclean: clean
+#	@echo -e "error:\n\t@echo Please run ./configure first..." >Make.conf
+#	rm -f $(OUT) config.h
+#
+#install: $(OUT)
+#	cp $(OUT) $(DESTDIR)$(bindir)
+#	gzip -9c $(OUT).1 > $(DESTDIR)$(mandir)/man1/$(OUT).1.gz
+#
+#uninstall: $(DESTDIR)$(bindir)/$(OUT)
+#	rm -f $(DESTDIR)$(bindir)/$(OUT)
+#	rm -f $(DESTDIR)$(mandir)/man1/$(OUT).1.gz
Index: fbv-1.0b/autogen.sh
===================================================================
--- /dev/null
+++ fbv-1.0b/autogen.sh
@@ -0,0 +1,22 @@
+#!/bin/bash
+
+#
+# usage:
+#
+# banner <target name>
+#
+banner() {
+	echo
+	TG=`echo $1 | sed -e "s,/.*/,,g"`
+	LINE=`echo $TG |sed -e "s/./-/g"`
+	echo $LINE
+	echo $TG
+	echo $LINE
+	echo
+}
+
+banner "autoreconf"
+
+autoreconf --force --install --symlink -Wall || exit $?
+
+banner "Finished"
