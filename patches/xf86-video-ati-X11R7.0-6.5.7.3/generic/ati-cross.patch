#
# Submitted-By: Erwin Rol, 2006-03-24
# Committed-By: Erwin Rol
#
# Error:
# Can't check for header files when cross compiling, with otherwords
# some serious braindamged autoconfig setup.
# 
# Description:
# This patch simply assumes PTXDIST did everythign right and that the header files
# are available when the user selects DRI, so no need to check.
#
# State:
# Unknown
#
--- xf86-video-ati-X11R7.0-6.5.7.3/configure.orig	2006-03-24 11:32:51.000000000 +0100
+++ xf86-video-ati-X11R7.0-6.5.7.3/configure	2006-03-24 12:09:02.000000000 +0100
@@ -20764,77 +20764,83 @@
 
 
 if test "$DRI" != no; then
-	as_ac_File=`echo "ac_cv_file_${sdkdir}/dri.h" | $as_tr_sh`
-echo "$as_me:$LINENO: checking for ${sdkdir}/dri.h" >&5
-echo $ECHO_N "checking for ${sdkdir}/dri.h... $ECHO_C" >&6
-if eval "test \"\${$as_ac_File+set}\" = set"; then
-  echo $ECHO_N "(cached) $ECHO_C" >&6
-else
-  test "$cross_compiling" = yes &&
-  { { echo "$as_me:$LINENO: error: cannot check for file existence when cross compiling" >&5
-echo "$as_me: error: cannot check for file existence when cross compiling" >&2;}
-   { (exit 1); exit 1; }; }
-if test -r "${sdkdir}/dri.h"; then
-  eval "$as_ac_File=yes"
-else
-  eval "$as_ac_File=no"
-fi
-fi
-echo "$as_me:$LINENO: result: `eval echo '${'$as_ac_File'}'`" >&5
-echo "${ECHO_T}`eval echo '${'$as_ac_File'}'`" >&6
-if test `eval echo '${'$as_ac_File'}'` = yes; then
-  have_dri_h="yes"
-else
-  have_dri_h="no"
-fi
+#	as_ac_File=`echo "ac_cv_file_${sdkdir}/dri.h" | $as_tr_sh`
+#echo "$as_me:$LINENO: checking for ${sdkdir}/dri.h" >&5
+#echo $ECHO_N "checking for ${sdkdir}/dri.h... $ECHO_C" >&6
+#if eval "test \"\${$as_ac_File+set}\" = set"; then
+#  echo $ECHO_N "(cached) $ECHO_C" >&6
+#else
+#  test "$cross_compiling" = yes &&
+#  { { echo "$as_me:$LINENO: error: cannot check for file existence when cross compiling" >&5
+#echo "$as_me: error: cannot check for file existence when cross compiling" >&2;}
+#   { (exit 1); exit 1; }; }
+#if test -r "${sdkdir}/dri.h"; then
+#  eval "$as_ac_File=yes"
+#else
+#  eval "$as_ac_File=no"
+#fi
+#fi
+#echo "$as_me:$LINENO: result: `eval echo '${'$as_ac_File'}'`" >&5
+#echo "${ECHO_T}`eval echo '${'$as_ac_File'}'`" >&6
+#if test `eval echo '${'$as_ac_File'}'` = yes; then
+#  have_dri_h="yes"
+#else
+#  have_dri_h="no"
+#fi
+
+have_dri_h="yes"
+
+#	as_ac_File=`echo "ac_cv_file_${sdkdir}/sarea.h" | $as_tr_sh`
+#echo "$as_me:$LINENO: checking for ${sdkdir}/sarea.h" >&5
+#echo $ECHO_N "checking for ${sdkdir}/sarea.h... $ECHO_C" >&6
+#if eval "test \"\${$as_ac_File+set}\" = set"; then
+#  echo $ECHO_N "(cached) $ECHO_C" >&6
+#else
+#  test "$cross_compiling" = yes &&
+#  { { echo "$as_me:$LINENO: error: cannot check for file existence when cross compiling" >&5
+#echo "$as_me: error: cannot check for file existence when cross compiling" >&2;}
+#   { (exit 1); exit 1; }; }
+#if test -r "${sdkdir}/sarea.h"; then
+#  eval "$as_ac_File=yes"
+#else
+#  eval "$as_ac_File=no"
+#fi
+#fi
+#echo "$as_me:$LINENO: result: `eval echo '${'$as_ac_File'}'`" >&5
+#echo "${ECHO_T}`eval echo '${'$as_ac_File'}'`" >&6
+#if test `eval echo '${'$as_ac_File'}'` = yes; then
+#  have_sarea_h="yes"
+#else
+#  have_sarea_h="no"
+#fi
+
+have_sarea_h="yes"
+
+#	as_ac_File=`echo "ac_cv_file_${sdkdir}/dristruct.h" | $as_tr_sh`
+#echo "$as_me:$LINENO: checking for ${sdkdir}/dristruct.h" >&5
+#echo $ECHO_N "checking for ${sdkdir}/dristruct.h... $ECHO_C" >&6
+#if eval "test \"\${$as_ac_File+set}\" = set"; then
+#  echo $ECHO_N "(cached) $ECHO_C" >&6
+#else
+#  test "$cross_compiling" = yes &&
+#  { { echo "$as_me:$LINENO: error: cannot check for file existence when cross compiling" >&5
+#echo "$as_me: error: cannot check for file existence when cross compiling" >&2;}
+#   { (exit 1); exit 1; }; }
+#if test -r "${sdkdir}/dristruct.h"; then
+#  eval "$as_ac_File=yes"
+#else
+#  eval "$as_ac_File=no"
+#fi
+#fi
+#echo "$as_me:$LINENO: result: `eval echo '${'$as_ac_File'}'`" >&5
+#echo "${ECHO_T}`eval echo '${'$as_ac_File'}'`" >&6
+#if test `eval echo '${'$as_ac_File'}'` = yes; then
+#  have_dristruct_h="yes"
+#else
+#  have_dristruct_h="no"
+#fi
 
-	as_ac_File=`echo "ac_cv_file_${sdkdir}/sarea.h" | $as_tr_sh`
-echo "$as_me:$LINENO: checking for ${sdkdir}/sarea.h" >&5
-echo $ECHO_N "checking for ${sdkdir}/sarea.h... $ECHO_C" >&6
-if eval "test \"\${$as_ac_File+set}\" = set"; then
-  echo $ECHO_N "(cached) $ECHO_C" >&6
-else
-  test "$cross_compiling" = yes &&
-  { { echo "$as_me:$LINENO: error: cannot check for file existence when cross compiling" >&5
-echo "$as_me: error: cannot check for file existence when cross compiling" >&2;}
-   { (exit 1); exit 1; }; }
-if test -r "${sdkdir}/sarea.h"; then
-  eval "$as_ac_File=yes"
-else
-  eval "$as_ac_File=no"
-fi
-fi
-echo "$as_me:$LINENO: result: `eval echo '${'$as_ac_File'}'`" >&5
-echo "${ECHO_T}`eval echo '${'$as_ac_File'}'`" >&6
-if test `eval echo '${'$as_ac_File'}'` = yes; then
-  have_sarea_h="yes"
-else
-  have_sarea_h="no"
-fi
-
-	as_ac_File=`echo "ac_cv_file_${sdkdir}/dristruct.h" | $as_tr_sh`
-echo "$as_me:$LINENO: checking for ${sdkdir}/dristruct.h" >&5
-echo $ECHO_N "checking for ${sdkdir}/dristruct.h... $ECHO_C" >&6
-if eval "test \"\${$as_ac_File+set}\" = set"; then
-  echo $ECHO_N "(cached) $ECHO_C" >&6
-else
-  test "$cross_compiling" = yes &&
-  { { echo "$as_me:$LINENO: error: cannot check for file existence when cross compiling" >&5
-echo "$as_me: error: cannot check for file existence when cross compiling" >&2;}
-   { (exit 1); exit 1; }; }
-if test -r "${sdkdir}/dristruct.h"; then
-  eval "$as_ac_File=yes"
-else
-  eval "$as_ac_File=no"
-fi
-fi
-echo "$as_me:$LINENO: result: `eval echo '${'$as_ac_File'}'`" >&5
-echo "${ECHO_T}`eval echo '${'$as_ac_File'}'`" >&6
-if test `eval echo '${'$as_ac_File'}'` = yes; then
-  have_dristruct_h="yes"
-else
-  have_dristruct_h="no"
-fi
+have_dristruct_h="yes"
 
 fi
 
@@ -21246,30 +21252,30 @@
 	fi
 
 
-as_ac_File=`echo "ac_cv_file_$prefix/share/X11/sgml/defs.ent" | $as_tr_sh`
-echo "$as_me:$LINENO: checking for $prefix/share/X11/sgml/defs.ent" >&5
-echo $ECHO_N "checking for $prefix/share/X11/sgml/defs.ent... $ECHO_C" >&6
-if eval "test \"\${$as_ac_File+set}\" = set"; then
-  echo $ECHO_N "(cached) $ECHO_C" >&6
-else
-  test "$cross_compiling" = yes &&
-  { { echo "$as_me:$LINENO: error: cannot check for file existence when cross compiling" >&5
-echo "$as_me: error: cannot check for file existence when cross compiling" >&2;}
-   { (exit 1); exit 1; }; }
-if test -r "$prefix/share/X11/sgml/defs.ent"; then
-  eval "$as_ac_File=yes"
-else
-  eval "$as_ac_File=no"
-fi
-fi
-echo "$as_me:$LINENO: result: `eval echo '${'$as_ac_File'}'`" >&5
-echo "${ECHO_T}`eval echo '${'$as_ac_File'}'`" >&6
-if test `eval echo '${'$as_ac_File'}'` = yes; then
-  DEFS_ENT_PATH=$prefix/share/X11/sgml
-else
+#as_ac_File=`echo "ac_cv_file_$prefix/share/X11/sgml/defs.ent" | $as_tr_sh`
+#echo "$as_me:$LINENO: checking for $prefix/share/X11/sgml/defs.ent" >&5
+#echo $ECHO_N "checking for $prefix/share/X11/sgml/defs.ent... $ECHO_C" >&6
+#if eval "test \"\${$as_ac_File+set}\" = set"; then
+#  echo $ECHO_N "(cached) $ECHO_C" >&6
+#else
+#  test "$cross_compiling" = yes &&
+#  { { echo "$as_me:$LINENO: error: cannot check for file existence when cross compiling" >&5
+#echo "$as_me: error: cannot check for file existence when cross compiling" >&2;}
+#   { (exit 1); exit 1; }; }
+#if test -r "$prefix/share/X11/sgml/defs.ent"; then
+#  eval "$as_ac_File=yes"
+#else
+#  eval "$as_ac_File=no"
+#fi
+#fi
+#echo "$as_me:$LINENO: result: `eval echo '${'$as_ac_File'}'`" >&5
+#echo "${ECHO_T}`eval echo '${'$as_ac_File'}'`" >&6
+#if test `eval echo '${'$as_ac_File'}'` = yes; then
+#  DEFS_ENT_PATH=$prefix/share/X11/sgml
+#else
   DEFS_ENT_PATH=
 
-fi
+#fi
 
 
 # Extract the first word of "linuxdoc", so it can be a program name with args.
