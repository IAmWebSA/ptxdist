menuconfig KERNEL
	bool
	prompt "Linux kernel                  "

config KERNEL_INSTALL
	bool
	prompt "install kernel into /boot"
	depends on KERNEL

config KERNEL_MODULES
	bool
	depends on KERNEL
	default y
	prompt "build kernel-modules"

config KERNEL_MODULES_INSTALL
	bool
	default y
	prompt "Install modules into /lib/modules"
	depends on KERNEL
	depends on KERNEL_MODULES

config KERNEL_MODULES_BUILD
	depends on KERNEL
	depends on KERNEL_MODULES
	string
	default "modules"

config KERNEL_VERSION
	depends on KERNEL
	prompt "kernel version"
	string

choice
	prompt "kernel architecture "
	depends on KERNEL
	depends on ARCH_PPC || ARCH_X86
	default KERNEL_ARCH_POWERPC if ARCH_PPC
	default KERNEL_ARCH_X86 if ARCH_X86
	help
	  For x86 and PowerPC there are different possibilities to set the kernel
	  architecture:

	  - The old variant for PowerPC is ppc, the newer one is powerpc.
	  - The old variant for x86 is i386 for 32 bit and x86_64 for 64 bit,
	    kernels later than 2.6.24 use x86.

	config KERNEL_ARCH_PPC
		bool
		depends on ARCH_PPC
		prompt "ppc    "

	config KERNEL_ARCH_POWERPC
		bool
		depends on ARCH_PPC
		prompt "powerpc"

	config KERNEL_ARCH_X86
		bool
		depends on ARCH_X86
		prompt "x86    "

	config KERNEL_ARCH_I386
		bool
		depends on ARCH_X86
		prompt "i386   "

	config KERNEL_ARCH_X86_64
		bool
		depends on ARCH_X86
		prompt "x86_64 "

endchoice

config KERNEL_ARCH_STRING
	depends on KERNEL
	string
	default "arm"			if ARCH_ARM
	default "armnommu"		if ARCH_ARM && !HAS_MMU
	default "alpha"			if ARCH_ALPHA
	default "blackfin"		if ARCH_BLACKFIN
	default "m68k"			if ARCH_M68K
	default "sparc"			if ARCH_SPARC
	default "mips"			if ARCH_MIPS
	default "mips"			if ARCH_MIPSEL
	default "cris"			if ARCH_CRIS
	default "parisc"		if ARCH_PARISC
	default "sh"			if ARCH_SH

	default "ppc"			if KERNEL_ARCH_PPC
	default "powerpc"		if KERNEL_ARCH_POWERPC
	default "x86"			if KERNEL_ARCH_X86
	default "i386"			if KERNEL_ARCH_I386
	default "x86_64"		if KERNEL_ARCH_X86_64

menu "patching & configuration      "
	depends on KERNEL

config KERNEL_SERIES
	depends on KERNEL
	prompt "patch series file"
	string
	default ""
	help
	  This entry specifies a patch series file which has to live in
	  the kernel patches directory:

	  The series file contains lines with names of patch files which
	  are then being applied to the kernel.

config KERNEL_CONFIG
	depends on KERNEL
	prompt "kernel config file"
	string
	default "kernelconfig.target"
	help
	  this entry specifies the .config file used to compile your kernel

endmenu


# FIXME make this architecture dependend

choice
	depends on KERNEL
	prompt "Image Type          "
	default KERNEL_IMAGE_BZ

	config KERNEL_IMAGE_BZ
		bool
		prompt "bzImage"
		help
		 This usually is the target to be used on ia32 platforms. It
		 is not limited in size (to be more precise: Limited up to 4MiB).

	config KERNEL_IMAGE_Z
		bool
		prompt "zImage "
		help
		 This usually is a target to be used on ia32 platforms, it
		 is the older format and limited to about 500k in size due to
		 low memory size restrictions.

	config KERNEL_IMAGE_U
		bool
		prompt "uImage "
		help
		 This is the target for most non ia32 platforms like PowerPC
		 and ARM architectures. Its a compressed image with additional
		 embedded information.

	config KERNEL_IMAGE_VM
		bool
		prompt "vmImage"
		help
		 This is the target for most non ia32 platforms like blackfin
		 architectures.

	config KERNEL_IMAGE_VMLINUX
		bool
		prompt "vmlinux"
		help
		 This is the target to get the kernel image as an ELF. Mostly
		 used for debugging purposes.
endchoice


#
# autogenerated
#

config KERNEL_IMAGE
	depends on KERNEL
	string
	default "bzImage" if KERNEL_IMAGE_BZ
	default "zImage"  if KERNEL_IMAGE_Z
	default "uImage"  if KERNEL_IMAGE_U
	default "vmImage" if KERNEL_IMAGE_VM
	default "vmlinux" if KERNEL_IMAGE_VMLINUX

