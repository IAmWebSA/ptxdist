#!/bin/sed -f

#
# from   : ptxdist-1.99.10
# to     : ptxdist-1.99.11
# symbol : PTXCONF_BB_CONFIG_* -> PTXCONF_BUSYBOX_*
# reason : consolidation of busybox config names
#
s/^\(\(# \)\?PTXCONF\)_BB_CONFIG_\(.*$\)/\1_BUSYBOX_\3/

#
# from   : ptxdist-1.99.10
# to     : ptxdist-1.99.11
# symbol : PTXCONF_BUSYBOX_FEATURE_GUNZIP_UNCOMPRESS	-> PTXCONF_BUSYBOX_FEATURE_SEAMLESS_Z
# symbol : PTXCONF_BUSYBOX_FEATURE_TAR_GZIP		-> PTXCONF_BUSYBOX_FEATURE_SEAMLESS_GZ
# symbol : PTXCONF_BUSYBOX_FEATURE_TAR_BZIP2		-> PTXCONF_BUSYBOX_FEATURE_SEAMLESS_BZ2
# symbol : PTXCONF_BUSYBOX_FEATURE_TAR_LZMA		-> PTXCONF_BUSYBOX_FEATURE_SEAMLESS_LZMA
# symbol : PTXCONF_BUSYBOX_FEATURE_TAR_COMPRESS		-> PTXCONF_BUSYBOX_FEATURE_SEAMLESS_Z
# symbol : PTXCONF_BUSYBOX_FEATURE_DF_INODE		-> PTXCONF_BUSYBOX_FEATURE_DF_FANCY
# symbol : PTXCONF_BUSYBOX_FEATURE_UNARCHIVE_TAPE	-> (gone)
# symbol : PTXCONF_BUSYBOX_DEBUG_INIT			-> (gone)
# symbol : PTXCONF_BUSYBOX_FETCHMAIL			-> (gone)
# reason : update busybox: 1.10.4 -> 1.13.2
#
s/^\(\(# \)\?PTXCONF_BUSYBOX\)_FEATURE_GUNZIP_UNCOMPRESS\(.*$\)/\1_FEATURE_SEAMLESS_Z\3/
s/^\(\(# \)\?PTXCONF_BUSYBOX\)_FEATURE_TAR_GZIP\(.*$\)/\1_FEATURE_SEAMLESS_GZ\3/
s/^\(\(# \)\?PTXCONF_BUSYBOX\)_FEATURE_TAR_BZIP2\(.*$\)/\1_FEATURE_SEAMLESS_BZ2\3/
s/^\(\(# \)\?PTXCONF_BUSYBOX\)_FEATURE_TAR_LZMA\(.*$\)/\1_FEATURE_SEAMLESS_LZMA\3/
s/^\(\(# \)\?PTXCONF_BUSYBOX\)_FEATURE_TAR_COMPRESS\(.*$\)/\1_FEATURE_SEAMLESS_Z\3/
s/^\(\(# \)\?PTXCONF_BUSYBOX\)_FEATURE_DF_INODE\(.*$\)/\1_FEATURE_DF_FANCY\3/

#
# from   : ptxdist-1.99.10
# to     : ptxdist-1.99.11
# symbol : PTXCONF_ROOTFS_UDEV__DEFAULT_RULES	-> PTXCONF_UDEV__DEFAULT_RULES
# symbol : PTXCONF_ROOTFS_ETC_UDEV__CONF	-> PTXCONF_UDEV__ETC_CONF
#
s/^\(\(# \)\?PTXCONF_\)ROOTFS_UDEV__DEFAULT_RULES\(.*$\)/\1UDEV__DEFAULT_RULES\3/
s/^\(\(# \)\?PTXCONF_\)ROOTFS_ETC_UDEV__CONF\(.*$\)/\1UDEV__ETC_CONF\3/

#
# from	 : ptxdist-1.99.19
# to	 : ptxdist-1.99.20
# symbol : BUSYBOX_GETOPT_LONG	-> BUSYBOX_LONG_OPTS
# reason : update busybox 1.13.2 -> 1.15.2
#
s/^\(\(# \)\?PTXCONF_BUSYBOX\)_GETOPT_LONG\(.*$\)/\1_LONG_OPTS\3/

#
# from   : ptxdist-2010.01.0
# to     : ptxdist-2010.02.0
# symbol : BZIP2__*	-> BZIP2_*
# reason : cleanup
#
s/^\(\(# \)\?PTXCONF_BZIP2_\)_\(.*$\)/\1\3/

#
# from   : ptxdist-2010.01.0
# to     : ptxdist-2010.02.0
# symbol : UDEV__*	-> UDEV_*
# reason : cleanup
#
s/^\(\(# \)\?PTXCONF_UDEV_\)_\(.*$\)/\1\3/

#
# from   : ptxdist-2010.03.0
# to     : ptxdist-2010.04.0
# symbol : BUSYBOX_APP_DHCPRELAY -> BUSYBOX_DHCPRELAY
# symbol : BUSYBOX_APP_DUMPLEASES -> BUSYBOX_DUMPLEASES
# symbol : BUSYBOX_APP_UDHCPC -> BUSYBOX_UDHCPC
# symbol : BUSYBOX_APP_UDHCPD -> BUSYBOX_UDHCPD
# reason : update busybox 1.15.3-> 1.16.1
#
s/^\(\(# \)\?PTXCONF_BUSYBOX\)_APP_DHCPRELAY\(.*$\)/\1_DHCPRELAY\3/
s/^\(\(# \)\?PTXCONF_BUSYBOX\)_APP_DUMPLEASES\(.*$\)/\1_DUMPLEASES\3/
s/^\(\(# \)\?PTXCONF_BUSYBOX\)_APP_UDHCPC\(.*$\)/\1_UDHCPC\3/
s/^\(\(# \)\?PTXCONF_BUSYBOX\)_APP_UDHCPD\(.*$\)/\1_UDHCPD\3/

#
# from   : ptxdist-2010.04.0
# to     : ptxdist-2010.05.0
# symbol : LIBPCRE__*			-> LIBPCRE_
# reason : consolidation of config symbols
#
s/^\(\(# \)\?PTXCONF_LIBPCRE_\)_\(.*$\)/\1\3/
