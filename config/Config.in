#
# config/Config.in: Main menu structure definition
# (c) Robert Schwebel <r.schwebel@pengutronix.de> 2002 
#

mainmenu "Configuration"

config PTXCONF
	bool
	default y
	help
	  This is the Pengutronix Distribution Build System. A better name 
	  for the Projest still has to be found. 

############################################################################## 
comment	"General Options     "
##############################################################################

menu	"Target Options      " 

choice
	prompt "CPU Architecture "
	default ARCH_ARM

	config ARCH_ARM
		bool "ARM"
		help
		  This is support for the ARM processor architecture.

	config ARCH_ARM_NOMMU
		bool "ARM-nommu"
		help
		  This is support for the ARM processor architecture w/o MMU.

	config ARCH_X86
		bool "X86"
		help
		  This is support for the Intel x86 architecture.

	config ARCH_PPC
		bool "PPC"

	config ARCH_SPARC
		bool "SPARC"

	config ARCH_MIPS
		bool "MIPS"

	config ARCH_CRIS
		bool "CRIS"

	config ARCH_PARISC
		bool "PARISC"
endchoice

choice 
	prompt "ARM architecture"
	depends on ARCH_ARM || ARCH_ARM_NOMMU

	config ARM_ARCH_PXA
		bool "pxa (little endian)"
		depends on ARCH_ARM

	config ARM_ARCH_IXP2000
		bool "ixp2000 (big endian)"
		depends on ARCH_ARM

	config ARM_ARCH_NETARM
		bool "net+arm (little endian)"
		depends on ARCH_ARM_NOMMU
		
	config ARM_ARCH_ATMEL
		bool "atmel (little endian)"
		depends on ARCH_ARM_NOMMU
endchoice

choice 
	prompt "MIPS architecture"
	depends on ARCH_MIPS

	config MIPS_ARCH_BE
		bool "mips (big endian)"

	config MIPS_ARCH_LE
		bool "mipsel (little endian)"
endchoice

choice
	prompt "Code Optimization"

	config OPT_ARM
		bool "generic arm"
		depends on ARCH_ARM
	config OPT_ARM_NOMMU
		bool "generic arm (w/o MMU)"
		depends on ARCH_ARM_NOMMU

	config OPT_I386
		bool "386"
		depends on ARCH_X86
	config OPT_I486
		bool "486"
		depends on ARCH_X86
	config OPT_I586
		bool "586"
		depends on ARCH_X86
	config OPT_I686
		bool "686"
		depends on ARCH_X86

	config OPT_PPC
		bool "generic PPC"
		depends on ARCH_PPC
	config OPT_PPC405
		bool "PPC 405"
		depends on ARCH_PPC
	config OPT_PPC750
		bool "PPC 750"
		depends on ARCH_PPC
	config OPT_PPC7450
		bool "PPC 7450"
		depends on ARCH_PPC

	config OPT_SPARC
		bool "generic sparc"
		depends on ARCH_SPARC

	config OPT_MIPS
		bool "generic mips (big endian)"
		depends on MIPS_ARCH_BE
	config OPT_MIPSEL
		bool "generic mipsel (little endian)"
		depends on MIPS_ARCH_LE

	config OPT_CRIS
		bool "generic cris"
		depends on ARCH_CRIS

	config OPT_PARISC
		bool "generic parisc"
		depends on ARCH_PARISC
endchoice

comment "---"

config TARGET_EXTRA_CFLAGS
	string
	prompt "Extra CFLAGS (c)"

config TARGET_EXTRA_CXXFLAGS
	string
	prompt "Extra CXXFLAGS (c++)"

config TARGET_CONFIG_FILE
	string
	prompt "Name of architecture config file in $PTXDIST/config/arch"
	default "arm.dat"		if ARCH_ARM
	default "ix86.dat"		if ARCH_X86
	default "powerpc.dat"		if OPT_PPC
	default "powerpc-405.dat"	if OPT_PPC405
	default "powerpc-750.dat"	if OPT_PPC750
	default "powerpc-7450.dat"	if OPT_PPC7450
	default "sparc.dat"		if ARCH_SPARC
	default "mips.dat"		if MIPS_ARCH_BE
	default "mipsel.dat"		if MIPS_ARCH_LE
	default "cris.dat"		if ARCH_CRIS
	default "hppa.dat"		if ARCH_PARISC

comment "---"

config ARCH_NOMMU
	bool
	default y if ARCH_ARM_NOMMU

config ARCH
	string
	default "arm"			if ARCH_ARM
	default "armnommu"		if ARCH_ARM_NOMMU
	default "i386"			if ARCH_X86
	default "ppc"			if ARCH_PPC
	default "sparc"			if ARCH_SPARC
	default "mips"			if ARCH_MIPS
	default "mips"			if ARCH_MIPSEL
	default "cris"			if ARCH_CRIS
	default "parisc"		if ARCH_PARISC

config ARCH_USERSPACE
	string
	default "arm"			if ARCH_ARM
	default "arm"			if ARCH_ARM_NOMMU
	default "i386"			if ARCH_X86
	default "powerpc"		if ARCH_PPC
	default "sparc"			if ARCH_SPARC
	default "mips"			if ARCH_MIPS
	default "mips"			if ARCH_MIPSEL
	default "cris"			if ARCH_CRIS
	default "hppa"			if ARCH_PARISC

config ARM_PROC
	string
	default "armv" if ARCH_ARM || ARCH_ARM_NOMMU

config ARM_ARCH
	string
	default "pxa"			if ARM_ARCH_PXA
	default "netarm"		if ARM_ARCH_NETARM
	default "atmel"			if ARM_ARCH_ATMEL
	default "ixp2000"		if ARM_ARCH_IXP2000

config GNU_TARGET
	string
	default "arm-linux" 			if ARM_ARCH_PXA		&& GLIBC
	default "armb-unknown-linux-gnu" 	if ARM_ARCH_IXP2000	&& GLIBC
	default "arm-elf"			if ARCH_ARM_NOMMU	&& GLIBC
	default "i386-linux"			if OPT_I386		&& GLIBC
	default "i486-linux"			if OPT_I486		&& GLIBC
	default "i586-linux"			if OPT_I586		&& GLIBC
	default "i686-linux"			if OPT_I686		&& GLIBC
	default "powerpc-linux"			if OPT_PPC		&& GLIBC
	default "powerpc-405-linux-gnu"		if OPT_PPC405		&& GLIBC
	default "powerpc-750-linux-gnu"		if OPT_PPC750		&& GLIBC
	default "powerpc-7450-linux-gnu"	if OPT_PPC4750		&& GLIBC
	default "sparc-linux"			if OPT_SPARC		&& GLIBC
	default "mips-linux"			if MIPS_ARCH_BE		&& GLIBC
	default "mipsel-linux"			if MIPS_ARCH_LE		&& GLIBC
	default "cris-linux"			if ARCH_CRIS		&& GLIBC
	default "hppa-linux"			if ARCH_PARISC		&& GLIBC

	default "arm-uclibc-linux-gnu" 		if ARM_ARCH_PXA		&& UCLIBC
	default "armb-uclibc-linux-gnu"		if ARM_ARCH_IXP2000	&& UCLIBC
	default "arm-elf"			if ARCH_ARM_NOMMU	&& UCLIBC
	default "i386-uclibc-linux-gnu"		if OPT_I386		&& UCLIBC
	default "i486-uclibc-linux-gnu"		if OPT_I486		&& UCLIBC
	default "i586-uclibc-linux-gnu"		if OPT_I586		&& UCLIBC
	default "i686-uclibc-linux-gnu"		if OPT_I686		&& UCLIBC
	default "powerpc-uclibc-linux-gnu"	if OPT_PPC		&& UCLIBC
	default "powerpc-405_uclibc-linux-gnu"	if OPT_PPC405		&& UCLIBC
	default "powerpc-750_uclibc-linux-gnu"	if OPT_PPC750		&& UCLIBC
	default "powerpc-7450_uclibc-linux-gnu"	if OPT_PPC7450		&& UCLIBC
	default "sparc-uclibc-linux-gnu"	if OPT_SPARC		&& UCLIBC
	default "mips-uclibc-linux-gnu"		if MIPS_ARCH_BE		&& UCLIBC
	default "mipsel-uclibc-linux-gnu"	if MIPS_ARCH_LE		&& UCLIBC
	default "cris-uclibc-linux-gnu"		if ARCH_CRIS		&& UCLIBC
	default "hppa-uclibc-linux-gnu"		if ARCH_PARISC		&& UCLIBC

config PREFIX
	prompt "Prefix for development envirionment"
	string
	default "/tmp/ptxdist-local"

config ROOT
	prompt "Prefix for root filesystem"
	string

endmenu

# ----------------------------------------------------------------------------

menu 	"Cross Toolchain     "

config BUILD_CROSSCHAIN
	bool
	prompt "Build Cross Toolchain"
	default y

choice
	prompt "GCC (GNU Compiler Collection) Version"
		default GCC_3_2_3 if ARCH_X86
		depends on BUILD_CROSSCHAIN

	config GCC_2_95_3
		bool
		prompt "2.95.3"
		depends on ARCH_X86 || ARCH_ARM || ARCH_ARM_NOMMU

	config GCC_3_2_3
		bool
		prompt "3.2.3"
		depends on ARCH_X86 || ARCH_SPARC || ARCH_MIPS || ARCH_CRIS || ARCH_PARISC || ARCH_PPC
endchoice

endmenu

# ----------------------------------------------------------------------------

menu	"Root Filesystem     "

config ROOTFS_PROC
	bool
	prompt "Create /proc"
	default y 

config ROOTFS_DEV
	bool
	prompt "Create /dev"
	default y

config ROOTFS_MNT
	bool
	prompt "Create /mnt"
	default y

config ROOTFS_FLOPPY
	bool
	prompt "Create /floppy"
	default y

config ROOTFS_TMP
	bool
	prompt "Create /tmp"
	default y

config ROOTFS_HOME
	bool
	prompt "Create /home"
	default y

config ROOTFS_VAR
	bool
	prompt "Create /var"
	default y

config VENDORTWEAKS
	string
	prompt "Run vendor Makefile at the end of build"
	help
	  At the end of the build the target vendor-tweaks.targetinstall
	  is run from the Makefile you specify here. The name you give
	  here is searched in rules/vendor-tweaks; this is normally a 
	  *.make file.  

endmenu

# ----------------------------------------------------------------------------

menu	"Debugging Tools     "

# gdb
source "rules/gdb.in"

config KSYMOOPS
	bool
	prompt "ksymoops"
	default n

config LIBBFD
	bool
	prompt "libbfd on target (needed for profiling)"
	default n

config LTT
	bool
	prompt "Linux Trace Toolkit (LTT)"
	default n

config OPROFILE
	bool
	prompt "oprofile"
	default n
	depends on POPT && LIBBFD

config STRACE
	bool
	prompt "strace"
	default n

endmenu


##############################################################################
comment	"Core System         "
##############################################################################

menu	"Kernel              "

config DONT_COMPILE_KERNEL
	bool
	prompt "Don't compile kernel"
	default n

config KERNEL_CONFIG
	string
	default "kernel-2.4."
	prompt "Name of config in $PTXDIST/config/kernel to be used"

choice 
	prompt "Kernel Version"
		default KERNEL_2_4_19
	
	config KERNEL_2_4_18
		bool
		prompt "2.4.18"
		depends on !ARCH_ARM_NOMMU

	config KERNEL_2_4_19
		bool
		prompt "2.4.19"
		depends on !ARCH_ARM_NOMMU

	config KERNEL_2_4_20
		bool
		prompt "2.4.20"
		depends on ARCH_SPARC || ARCH_X86 || ARCH_MIPS || ARCH_CRIS || ARCH_PPC
		depends on !ARCH_ARM_NOMMU

	config KERNEL_2_4_21
		bool
		prompt "2.4.21"
		depends on ARCH_SPARC || ARCH_X86 || ARCH_MIPS || ARCH_CRIS || ARCH_PPC || ARCH_ARM_NOMMU

	config KERNEL_2_4_22
		bool
		prompt "2.4.22"
		depends on ARCH_SPARC || ARCH_X86 || ARCH_MIPS || ARCH_CRIS || ARCH_PPC
endchoice

config KERNEL_XSCALE
	bool
	prompt "Use XScale patch (rmkX-pxaY)"
	default n
	depends on ARCH_ARM

config KERNEL_XSCALE_PTX
	bool
	prompt "Use Pengutronix XScale patch (rmkX-pxaY-ptxZ)"
	default n
	depends on ARCH_ARM

config KERNEL_MTD
	bool
	prompt "Use mtd-20030301-1 snapshot"
	default n

config KERNEL_INSTALL
	bool
	prompt "Install kernel into /boot on target"
	default n
	depends on !DONT_COMPILE_KERNEL

choice
	prompt "Kernel Image"
	default KERNEL_IMAGE_BZ
	depends on !DONT_COMPILE_KERNEL

	config KERNEL_IMAGE_BZ
		bool
		prompt "bzImage"
		depends on ARCH_X86
		
	config KERNEL_IMAGE_Z
		bool
		prompt "zImage"
		depends on ARCH_X86

	config KERNEL_IMAGE_U
		bool
		prompt "uImage"
		depends on ARCH_ARM

	config KERNEL_IMAGE_VMLINUX
		bool
		prompt "vmlinux"
endchoice

config RTAI
	bool
	prompt "Realtime Extension: RTAI"
	depends on KERNEL_2_4_21 || KERNEL_2_4_20 || KERNEL_2_4_19 || KERNEL_2_4_18
	default n

choice
	prompt "RTAI Version"
	depends on RTAI
	default RTAI_24_1_10

	config RTAI_24_1_9
		bool
		prompt "24.1.9 "

	config RTAI_24_1_10
		bool
		prompt "24.1.10"

	config RTAI_24_1_11
		bool
		prompt "24.1.11"
endchoice

choice
	prompt "RTAI Technology"
	depends on RTAI
	default RTAI_ALLSOFT

	config RTAI_RTHAL
		bool
		prompt "rthal"

	config RTAI_ALLSOFT
		bool
		prompt "allsoft"
endchoice

#
# FIXME: add this if we have the 2.4 configuration in kconfig format
# 
#config KERNEL
#	bool
#	prompt "Compile Kernel"
#
#source "config/kernel/Config.in"
	
endmenu

# ----------------------------------------------------------------------------

menu	"C Library           "

source "rules/libc.in"

endmenu
# ============================================================================
comment "Core Tools"
# ============================================================================

menu	"Pdksh               "

config PDKSH
	bool
	prompt "Pdksh"

config PDKSH_SHLIKE
	bool	
	prompt "Enable minimal sh like configuration"
	depends on PDKSH

config PDKSH_POSIX
	bool	
	prompt "Enable POSIX behaviour"
	depends on PDKSH

config PDKSH_EMACS
	bool	
	prompt "Enable emacs style line editing"
	depends on PDKSH

config PDKSH_VI
	bool	
	prompt "Enable vi style line editing"
	depends on PDKSH

config PDKSH_CMDHISTORY
	bool
	prompt "Turn on command history"
	depends on PDKSH

config PDKSH_JOBS
	bool
	prompt "Enable job control features"
	depends on PDKSH

config PDKSH_BRACE_EXPAND
	bool
	prompt "Enable ksh brace expansion"
	depends on PDKSH

endmenu

menu	"Bash                "

config BASH
	bool
	prompt "Bash"

config BASH_SHLIKE
	bool	
	prompt "Enable minimal sh like configuration"
	depends on BASH

config BASH_ALIASES
	bool
	prompt "Enable aliases"
	depends on BASH

#config BASH_ARITHMETIC_FOR
#	bool
#	prompt "Enable arithmetic for command"
#	depends on BASH
#	help "This does currently (bash-2.05b) not work properly and is deactivated in bash.make!"
        
config BASH_ARRAY
	bool
	prompt "Include shell array variables"
	depends on BASH

config BASH_HISTORY
        bool
	prompt "Turn on csh-style history substitution"
	depends on BASH

config BASH_BRACE
	bool
	prompt "Include brace expansion"
	depends on BASH

#config BASH_CONDITIONAL
#	bool
#	prompt "Enable the conditional command"
#	depends on BASH
#	help "This does currently (bash-2.05b) not work properly and is deactivated in bash.make!"

config BASH_DIRSTACK
	bool
	prompt "Enable builtins pushd/popd/dirs"
	depends on BASH

#config BASH_EXTPATTERN
#	bool
#	prompt "Include ksh-style extended pattern matching"
#	depends on BASH
#	help "This does currently (bash-2.05b) not work properly and is deactivated in bash.make!"

config BASH_HELP
	bool
	prompt "Include the help builtin"
	depends on BASH

config BASH_CMDHISTORY
	bool
	prompt "Turn on command history"
	depends on BASH

config BASH_JOBS
	bool
	prompt "Enable job control features"
	depends on BASH

config BASH_LARGEFILES
	bool
	prompt "Enable support for large files"
	depends on BASH

config BASH_PROCSUBST
        bool 
	prompt "Enable process substitution"
	depends on BASH

config BASH_COMPLETION
	bool 
	prompt "Enable programmable completion"
	depends on BASH

config BASH_ESC
	bool
	prompt "Turn on escape character decoding in prompts"
	depends on BASH

config BASH_EDIT
	bool
	prompt "Turn on command line editing"
	depends on BASH

config BASH_RESTRICTED
	bool
	prompt "Enable a restricted shell"
	depends on BASH

config BASH_SELECT
	bool
	prompt "Include select command"
	depends on BASH

config BASH_GPROF
	bool
	prompt "Allow profiling with gprof"
	depends on BASH

config BASH_STATIC
	bool
	prompt "Link bash statically"
	depends on BASH

endmenu

# ----------------------------------------------------------------------------

menu	"BusyBox             "

config BUSYBOX
	bool
	prompt "Compile Busybox"

source "config/busybox-1.0.0-pre3/sysdeps/linux/Config.in"

endmenu

# ----------------------------------------------------------------------------

#menu	"TinyLogin           "

#config TINYLOGIN
#	bool
#	prompt "Compile Tinylogin"
#endmenu

# ----------------------------------------------------------------------------

menu	"MTD Tools           "

config MTD_UTILS
	bool
	prompt "Compile MTD Utilities"

config MTD_EINFO
	bool
	prompt "einfo"
	depends on MTD_UTILS

config MTD_ERASE
	bool
	prompt "erase"
	depends on MTD_UTILS

config MTD_ERASEALL
	bool
	prompt "eraseall"
	depends on MTD_UTILS

config MTD_FCP
	bool
	prompt "fcp"
	depends on MTD_UTILS

config MTD_FTL_CHECK
	bool
	prompt "ftl_check"
	depends on MTD_UTILS

config MTD_FTL_FORMAT
	bool
	prompt "ftl_format"
	depends on MTD_UTILS

config MTD_JFFS2READER
	bool
	prompt "jffs2reader"
	depends on MTD_UTILS

config MTD_LOCK
	bool
	prompt "lock"
	depends on MTD_UTILS

config MTD_MTDDEBUG
	bool
	prompt "mtd_debug"
	depends on MTD_UTILS

config MTD_NANDDUMP
	bool
	prompt "nanddump"
	depends on MTD_UTILS

config MTD_NANDTEST
	bool
	prompt "nandtest"
	depends on MTD_UTILS

config MTD_NANDWRITE
	bool
	prompt "nandwrite"
	depends on MTD_UTILS

config MTD_NFTL_FORMAT
	bool
	prompt "nftl_format"
	depends on MTD_UTILS

config MTD_NFTLDUMP
	bool
	prompt "nftldump"
	depends on MTD_UTILS

config MTD_UNLOCK
	bool
	prompt "unlock"
	depends on MTD_UTILS

config MTD_MKJFFS
	bool
	prompt "mkfs.jffs"
	depends on MTD_UTILS && ZLIB

config MTD_MKJFFS2
	bool
	prompt "mkfs.jffs2"
	depends on MTD_UTILS && ZLIB

endmenu

# ----------------------------------------------------------------------------

source "rules/coreutils.in"

source "rules/util-linux.in"

source "rules/vhll.in"

source "rules/pcmcia-cs.in"

##############################################################################
comment "Network Tools"
##############################################################################

menu	"ppp                 "

config PPP
	bool
	prompt "Compile ppp"

config PPP_MS_CHAP
	bool
	prompt "supprt Micro$oft's MS-CHAP authentication protocol"
	depends on PPP

config PPP_SHADOW
	bool
	prompt "ppp server: support for shadow passwords"
	depends on PPP

config PPP_PLUGINS
	bool
	prompt "support plugins"
	depends on PPP

config PPP_IPX
	bool
	prompt "support IPX protocol"
	depends on PPP

config PPP_MULTILINK
	bool
	prompt "support multilink"
	depends on PPP
endmenu

# ----------------------------------------------------------------------------

menu	"udhcp               "

config UDHCP
	bool
	prompt "udhcp"

config UDHCP_C
	bool
	prompt "Compile udhcp client (udhcpc)"
	depends on UDHCP

config UDHCP_D
	bool
        prompt "Compile udhcp daemon (udhcpd)"
	depends on UDHCP

config UDHCP_DUMPLEASES
	bool
	prompt "Compile dumpleases"
	depends on UDHCP

endmenu

# ----------------------------------------------------------------------------

menu	"utelnetd            "

config UTELNETD
	bool
	prompt "Compile utelnetd"

endmenu

# ----------------------------------------------------------------------------

menu	"inetutils           "

config INETUTILS
	bool
	prompt "Compile inetutils"

source rules/inetutils.in
endmenu

# ----------------------------------------------------------------------------

menu 	"Network Security    "

config LSH
	bool
	prompt "LSH"

config LSH_EXECUV
	bool
	prompt "Install lsh-execuf"
	depends on LSH

config LSH_PROXY
	bool
	prompt "Install lsh_proxy"
	depends on LSH

config LSH_LSHD
	bool
	prompt "Install lshd"
	depends on LSH

config LSH_SFTPD
	bool
	prompt  "Install sftp-server"
	depends on LSH

config LSH_MAKESEED
	bool
	prompt "Install lsh-make-seed"
	depends on LSH

config LSH_KEYGEN 
	bool
	prompt "Install lsh-keygen"
	depends on LSH

config LSH_WRITEKEY
        bool
	prompt "Install lsh-writekey"
	depends on LSH

config OPENSSH
	bool
	prompt "OpenSSH"

# ----------------------------------------------------------------------------

source "rules/dropbear.in"

# ----------------------------------------------------------------------------

endmenu

# ----------------------------------------------------------------------------

menu	"proftpd             "

config PROFTPD
	bool
	prompt "proftpd"

config PROFTPD_PAM
	bool
	prompt "PAM support"
	depends on PROFTPD

config PROFTPD_SENDFILE
	bool
	prompt "sendfile support"
	depends on PROFTPD
	
config PROFTPD_SHADOW
	bool
	prompt "shadow support"
	depends on PROFTPD

config PROFTPD_AUTOSHADOW
	bool
	prompt "autoshadow support"
	depends on PROFTPD_SHADOW

endmenu

# ----------------------------------------------------------------------------

menu	"nfs-utils           "

config	NFSUTILS
	bool
	prompt "Compile nfs-utils"

config	NFSUTILS_V3
	bool
	prompt "Enable support for NFSv3"
	depends on NFSUTILS

config	NFSUTILS_SECURE_STATD
	bool
	prompt "Only lockd can use statd (security)"
	depends on NFSUTILS

config	NFSUTILS_RQUOTAD
	bool
	prompt "Enable rquotad"
	depends on NFSUTILS	

config	NFSUTILS_INSTALL_CLIENTSCRIPT
	bool
	prompt "Install /etc/init.d/nfs-client"
	depends on NFSUTILS

config	NFSUTILS_INSTALL_FUNCTIONSSCRIPT
	bool
	prompt "Install /etc/init.d/nfs-functions"
	depends on NFSUTILS

config	NFSUTILS_INSTALL_SERVERSCRIPT
	bool
	prompt "Install /etc/init.d/nfs-server"
	depends on NFSUTILS

config	NFSUTILS_INSTALL_EXPORTFS
	bool
	prompt "Install /sbin/exportfs"
	depends on NFSUTILS

config	NFSUTILS_INSTALL_LOCKD
	bool
	prompt "Install /sbin/lockd"
	depends on NFSUTILS

config	NFSUTILS_INSTALL_MOUNTD
	bool
	prompt "Install /sbin/mountd"
	depends on NFSUTILS

config	NFSUTILS_INSTALL_NFSD
	bool
	prompt "Install /sbin/nfsd"
	depends on NFSUTILS

config	NFSUTILS_INSTALL_NFSSTAT
	bool
	prompt "Install /sbin/nfsstat"
	depends on NFSUTILS

config	NFSUTILS_INSTALL_NHFSGRAPH
	bool
	prompt "Install /sbin/nhfsgraph"
	depends on NFSUTILS

config  NFSUTILS_INSTALL_NHFSNUMS
        bool
        prompt "Install /sbin/nhfsnums"
        depends on NFSUTILS

config  NFSUTILS_INSTALL_NHFSRUN
        bool
        prompt "Install /sbin/nhfsrun"
        depends on NFSUTILS

config  NFSUTILS_INSTALL_NHFSSTONE
        bool
        prompt "Install /sbin/nhfsstone"
        depends on NFSUTILS

config  NFSUTILS_INSTALL_SHOWMOUNT
        bool
        prompt "Install /sbin/showmount"
        depends on NFSUTILS

config  NFSUTILS_INSTALL_STATD
        bool
        prompt "Install /sbin/showmount"
        depends on NFSUTILS

endmenu

# ----------------------------------------------------------------------------

menu	"Portmapper          "

config	PORTMAP
	bool
	prompt "Compile Portmapper"
	
config	PORTMAP_INSTALL_PORTMAPPER
	bool
	prompt "Install /sbin/portmap"
	depends on PORTMAP

endmenu

# ----------------------------------------------------------------------------
menu	"tcpwrapper          "

config	TCPWRAPPER
	bool
	prompt "Compile tcpwrapper"
	
config	TCPWRAPPER_INSTALL_TCPD
	bool
	prompt "Install /usr/sbin/tcpd"
	depends on TCPWRAPPER

endmenu

# ----------------------------------------------------------------------------

source "rules/wireless.in"

# ----------------------------------------------------------------------------

source "rules/zebra.in"

# ----------------------------------------------------------------------------

source "rules/libnet.in"

# ----------------------------------------------------------------------------

source "rules/libpcap.in"

# ----------------------------------------------------------------------------

############################################################################## 
comment	"Disk and file       "
##############################################################################

menu	"Disk and file utils "

config E2FSPROGS
	bool
	prompt "e2fsprogs"
	
config E2FSPROGS_MKFS
	bool
	prompt "Install mke2fs"
	depends on E2FSPROGS

config E2FSPROGS_E2FSCK
	bool
	prompt "Install e2fsck"
	depends on E2FSPROGS

config GRUB
	bool
	prompt "GRUB"
	depends on ARCH_X86

config GRUB_MD5
	bool
	prompt "md5 passwords"
	depends on GRUB

config GRUB_FFS
	bool
	prompt "ffs      filesystem"
	depends on GRUB

config GRUB_MINIXFS
	bool
	prompt "minix    filesystem"
	depends on GRUB

config GRUB_REISERFS
	bool
	prompt "reiser   filesystem"
	depends on GRUB

config GRUB_VSTAFS
	bool
	prompt "vstafs   filesystem"
	depends on GRUB

config GRUB_JFS
	bool
	prompt "jfs      filesystem"
	depends on GRUB

config GRUB_XFS
	bool
	prompt "xfs      filesystem"
	depends on GRUB

config GRUB_CS89X0
	bool
	prompt "cs89x0   network driver"
	depends on GRUB

config GRUB_BOOTDISK
	bool 
	prompt "make bootdisk in $PTXDIST/bootdisk"
	depends on GRUB

config LILO
	bool "LILO"
	depends on ARCH_X86

config PTXFLASH
	bool
	prompt "Install ptxflash utility"

source rules/genext2fs.in
endmenu



############################################################################## 
comment	"Applications        "
##############################################################################

menu	"Flash               "

config FLASH
	bool
	prompt "flash"
	
endmenu

# -----

menu	"Kaffe               "

config KAFFE
	bool
	prompt "Compile Kaffe"

comment	"Target Options"
	depends on KAFFE

	choice
		prompt "Engine"
		default KAFFE_ENG_JIT3
		depends on KAFFE

		config KAFFE_ENG_INTRP
			bool Interpreter

		config KAFFE_ENG_JIT
			bool JIT
			depends on ARCH_ARM || ARCH_X86 || ARCH_SPARC || ARCH_ARM || ARCH_ALPHA || ARCH_MIPS

		config KAFFE_ENG_JIT3
			bool JITv3
			depends on ARCH_ARM || ARCH_X86 || ARCH_SPARC || ARCH_ARM || ARCH_ALPHA || ARCH_MIPS
	endchoice

	choice
		prompt "Threading System"
		default	KAFFE_THREAD_J
		depends on KAFFE

		config KAFFE_THREAD_P
			bool unix-pthreads

		config KAFFE_THREAD_J
			bool unix-jthreads
	endchoice
	
	choice
		prompt "API"
		default KAFFE_API_SE
		depends on KAFFE

		config KAFFE_API_CLDC
			bool CLDC

		config KAFFE_API_SE
			bool J2SE
	endchoice

	config KAFFE_ENABLE_JIKES
		bool
		default n
		prompt "Use Jikes or other Java compiler"
		depends on KAFFE_API_SE
		depends on KAFFE

	config KAFFE_JIKES
		string
		default "jikes" if KAFFE_API_SE
		default "javac" if KAFFE_API_CLDC
		prompt "java compiler (see help)"
		depends on KAFFE_API_SE && KAFFE_ENABLE_JIKES || KAFFE_API_CLDC
		depends on KAFFE
		help
			The compiler must be in the $PATH or an absoloute path to the compiler must be supplied.
			If compiling the CLDC API jikes is not working, please use Sun's javac.

	config KAFFE_JIKES_WO_DEBUG
		bool
		default n
		prompt "Compile Java Class Libs without debugging symbols (see help)"
		depends on KAFFE_API_SE && KAFFE_ENABLE_JIKES || KAFFE_API_CLDC
		depends on KAFFE
		help
			Works only with Sun's javac.
############################################################################# 
comment	"Debugging Options"
	depends on KAFFE

	config KAFFE_DEB_DEB
		bool
		default n
		prompt "Enable run-time debugging machinery"
		depends on KAFFE

	config KAFFE_DEB_X
		bool
		default n
		prompt "Enable debugging symbol generation for jitted code (xdebugging)"
		depends on KAFFE

	config KAFFE_DEB_PROFILING
		bool
		default n
		prompt "Compile with gprof(1) profiling support"
		depends on KAFFE

	config KAFFE_DEB_XPROFILING
		bool
		default n
		prompt "Enable profiling for C and jitted code (xprofiling)"
		depends on KAFFE

	config KAFFE_DEB_STATS
		bool
		default n
		prompt "Gather statistics on vm execution"
		depends on KAFFE
############################################################################## 
comment	"Features"
	depends on KAFFE

	config KAFFE_FEAT_GCJ
		bool
		default n
		prompt "Enable GCJ support"
		depends on KAFFE

	choice
		prompt "AWT Engine"
		default KAFFE_AWT_X
		depends on KAFFE_API_SE
		depends on KAFFE

		config KAFFE_AWT_NO
			bool none

		config KAFFE_AWT_X
			bool XFree

		config KAFFE_AWT_QT
			bool QT
	endchoice

	config KAFFE_FEAT_FEEDBACK
		bool
		default n
		prompt "Enable generation of feedback data"
		depends on KAFFE

	config KAFFE_FEAT_JAVAMATH
		bool
		default n
		prompt "Enable pure java java.math.* package"
		depends on KAFFE_API_SE
		depends on KAFFE

	config KAFFE_FEAT_DISABLE_SOUND
		bool
		default n
		prompt "Disable javax.sound support"
		depends on KAFFE_API_SE
		depends on KAFFE

	config KAFFE_FEAT_DISABLE_ALSA
		bool
		default n
		prompt "Don't use ALSA for sound"
		depends on KAFFE_API_SE && !KAFFE_FEAT_DISABLE_SOUND
		depends on KAFFE

	config KAFFE_FEAT_DISABLE_ESD
		bool
		default n
		prompt  "Don't use esd for sound"
		depends on KAFFE_API_SE && !KAFFE_FEAT_DISABLE_SOUND
		depends on KAFFE

	config KAFFE_FEAT_DISABLE_SUNCOMPAT
		bool
		default n
		prompt "Don't include Sun compatibility scripts"
		depends on KAFFE

	config KAFFE_FEAT_CLDC_GMP
		bool
		default n
		prompt "Enable native java/math/BigInteger in CLDC (see help)"
		depends on KAFFE_API_CLDC
		depends on KAFFE
		help
			Note:
			This is not tested!
			Use on your own risk!

	config KAFFE_FEAT_CLDC_COMM
		bool
		default y
		prompt "Enable javax.microedition.io.CommConnection (access to serial ports)"
		depends on KAFFE_API_CLDC
		depends on KAFFE

############################################################################## 
comment	"Linking options"
	depends on KAFFE

	config KAFFE_LINK_VM
		bool
		prompt "Force the creation of a static virtual machine (staticvm)"
		depends on !KAFFE_LINK_LIB && !KAFFE_LINK_BIN
		depends on KAFFE

	config KAFFE_LINK_LIB
		bool
		prompt "Force the use of static libraries rather than shared (staticlib)"
		depends on !KAFFE_LINK_BIN
		depends on KAFFE

	config KAFFE_LINK_GMP
		bool
		prompt "Link libgmp static into kaffe-bin"
		depends on KAFFE_FEAT_CLDC_GMP || \
			KAFFE_API_SE && !KAFFE_FEAT_JAVAMATH
		depends on KAFFE

	config KAFFE_LINK_BIN
		bool
		prompt "Force the creation of a static virtual machine binary (staticbin)"
		depends on KAFFE


	config KAFFE_TARGETINSTALL_GMP
		bool
		default y if KAFFE_API_SE && !KAFFE_FEAT_JAVAMATH || \
			KAFFE_FEAT_CLDC_GMP && !(KAFFE_LINK_GMP || KAFFE_LINK_BIN)
		depends on KAFFE
endmenu
############################################################################## 

menu "System Libraries    "

source rules/gettext.in
source rules/popt.in
source rules/zlib.in

endmenu

############################################################################## 

menu "Graphics Libraries  "

#source rules/gtk22.in
source rules/xfree430.in
source rules/clementine.in

endmenu

############################################################################## 

menu "Web Applications    "

source rules/mfirebird.in
source rules/penguzilla.in

endmenu



