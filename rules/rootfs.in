##############################################################################
comment "Populate Rootfs"
##############################################################################

config ROOTFS
	bool
	prompt "create toplevel directories"
	default y
        select BB_CONFIG_FEATURE_SHADOWPASSWDS  if BUSYBOX

config ROOTFS_DEV
	depends on ROOTFS
	bool
	prompt "Create /dev"
	default y

config ROOTFS_FLOPPY
	depends on ROOTFS
	bool
	prompt "Create /floppy"
	default y

config ROOTFS_HOME
	depends on ROOTFS
	bool
	prompt "Create /home"
	default y

config ROOTFS_MNT
	depends on ROOTFS
	bool
	prompt "Create /mnt"
	default y

config ROOTFS_PROC
	depends on ROOTFS
	bool
	prompt "Create /proc"
	default y 

config ROOTFS_SYS
	depends on ROOTFS
	bool
	prompt "Create /sys"
	default y

config ROOTFS_TMP
	depends on ROOTFS
	bool
	prompt "Create /tmp"
	default y

config ROOTFS_VAR
	depends on ROOTFS
	bool
	prompt "Create /var"
	default y

##############################################################################
comment "Populate & Configure /etc"
##############################################################################

config ROOTFS_ETC
	depends on ROOTFS
	bool
	prompt "Use generic template for /etc"
	default y
        select BB_CONFIG_GETTY          if BUSYBOX
        select BB_CONFIG_RUN_PARTS      if BUSYBOX
	help
	  When enabled, this option copies the files from 
	  $(TOPDIR)/projects/generic/etc to the target root filesystem. 
	  The files contain useful defaults for most projects, so
	  if you don't intend to use your completely self-made etc
	  directory you should problably switch this on. 

config ROOTFS_ETC_CONSOLE
	depends on ROOTFS_ETC
	string
	default "/dev/tts/0"
	prompt "start getty on this console"

config ROOTFS_ETC_CONSOLE_SPEED
	depends on ROOTFS_ETC
	string
	default "115200"
	prompt "getty baudrate"

config ROOTFS_ETC_PS1
	depends on ROOTFS_ETC
	string
	default "\\u@\\h:\\w"
	prompt "set PS1 in /etc/profile"

config ROOTFS_ETC_PS2
	depends on ROOTFS_ETC
	string
	default ""
	prompt "set PS2 in /etc/profile"

config ROOTFS_ETC_PS4
	depends on ROOTFS_ETC
	string
	default ""
	prompt "set PS4 in /etc/profile"

config ROOTFS_ETC_HOSTNAME
	depends on ROOTFS_ETC
	string
	default ptx
	prompt "set hostname in /etc/hostname"

config ROOTFS_ETC_VENDOR
	depends on ROOTFS_ETC
	string
	prompt "set vendorname in /etc/init.d/banner"

config VENDORTWEAKS
	string
	prompt "Run vendortweaks Makefile at the end of build"
	help
	  Normally you want to do some project specific stuff at the 
	  end of a target build; this may be copying of vendor files 
	  into the root filesystem or other project specific stuff; 
	  As the things to be done here are indeed project we use
	  a normal makefile here which gives you the possibility to 
	  use the usual dependency mechanism. 

	  Normally vendortweaks files live in $(PROJECTDIR), which 
	  is something like $(TOPDIR)/projects/your-project-name. 
	  For example if you want to add a vendortweaks file for 
	  project foobar, use "$(PROJECTDIR)/foobar.vendortweaks" here. 

