## SECTION=networking
# syslog-ng configuration

menuconfig SYSLOGNG
	tristate
	prompt "syslog-ng                     "
	select EVENTLOG
	select GLIB
	select LIBC_RT
	select LIBNET
	select TCPWRAPPER	if SYSLOGNG__TCP_WRAPPER
	help
	  The next generation syslog daemon.

if SYSLOGNG

# disabled. Feature implementations are broken
#config SYSLOGNG_SUNSTREAMS
#	bool
#	prompt "sun streams support"
#	help
#	  Support for Sun STREAMS.
#
#config SYSLOGNG_SUNDOOR
#	bool
#	prompt "sun door support"
#	help
#	  Support for Sun door

config SYSLOGNG__IPV6
	bool
	prompt "Support ipv6"
	help
	  Enable ipv6 support, otherwise ipv4 is supported only

config SYSLOGNG__TCP_WRAPPER
	bool
	prompt "tcpwrapper support"
	help
	  Support /etc/hosts.deny and /etc/hosts.allow.

config SYSLOGNG__SPOOF_SOURCE
	bool
	prompt "spoof_source feature"
	help
	  Enables the ability for source address spoofing.
	  This means that the host running syslog-ng generates
	  UDP packets with the source IP address matching the
	  original sender of the message. It is useful when
	  you want to perform some kind of preprocessing via
	  syslog-ng then forward messages to your central log
	  management solution with the source address of the
	  original sender. This option only works for UDP
	  destinations though the original message can be
	  received by TCP as well.

comment "runtime options   ---"

config ROOTFS_ETC_SYSLOGNG_CONFIG
	bool
	default y
	prompt "Install configuration file"
	help
	  Installs a /etc/syslog-ng.conf from a selectable source.

	choice
		prompt "Kind of configuration file"
		depends on ROOTFS_ETC_SYSLOGNG_CONFIG
		default ROOTFS_ETC_SYSLOGNG_CONFIG_DEFAULT

		config ROOTFS_ETC_SYSLOGNG_CONFIG_DEFAULT
			bool
			prompt "Use generic"
			help
			  Installs a generic /etc/syslog-ng.conf.
			  See <ptxdist-install>/generic/etc/syslog-ng.conf

		config ROOTFS_ETC_SYSLOGNG_CONFIG_USER
			bool
			prompt "User defined"
			help
			  This uses a user defined syslog-ng.conf file. PTXdist
			  uses file projectroot/etc/syslog-ng.conf in your local
			  project

	endchoice

config ROOTFS_ETC_INITD_SYSLOGNG_STARTSCRIPT
	bool
	default y
	prompt "Install startup script"
	help
	  The /etc/init.d/syslog-ng script lets you control the syslog-ng daemon.

	choice
		prompt "Kind of startup script"
		depends on ROOTFS_ETC_INITD_SYSLOGNG_STARTSCRIPT
		default ROOTFS_ETC_INITD_SYSLOGNG_DEFAULT

		config ROOTFS_ETC_INITD_SYSLOGNG_DEFAULT
			bool
			prompt "Use generic"
			help
			  Installs a generic /etc/init.d/syslog-ng startup script.
			  See <ptxdist-install>/generic/etc/init.d/syslog-ng

		config ROOTFS_ETC_INITD_SYSLOGNG_USER
			bool
			prompt "User defined"
			help
			  This uses a user defined syslog-ng startup script. PTXdist
			  uses file projectroot/etc/init.d/syslog-ng in your local
			  project

	endchoice

endif
