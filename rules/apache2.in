# Apache 2 configuration

menuconfig APACHE2
	bool "Apache 2 HTTP Server"
	select EXPAT
	select GLIBC_LIBRT
	select HOST_APACHE2
	help
	  Apache v2 is the next generation of the Apache web server. 
	  This version - a total rewrite - introduces many new 
	  improvements, such as threading, a new API, IPv6 support, 
	  request/response filtering, and more.

choice
	depends on APACHE2
	prompt "Multi Process Model"

	config APACHE2_MPM_PREFORK
		bool "prefork"
		help
		  Multi Process Model with preforking (Apache 1.3)

	config APACHE2_MPM_PERCHILD
		bool "perchild"
		help
		  Multi Process Model with threading.
		  Constant number of processes, variable number of threads,
		  each child process can have a different uid/gid.

	config APACHE2_MPM_WORKER
		bool "worker"
		help
		  Multi Process model with threads.
		  One acceptor thread, multiple worker threads.
endchoice

config APACHE2_DEFAULTCONFIG
	prompt "Default config file"
	bool
	depends on APACHE2
	default y
	help
	  This uses a generic configuration file for your apache. There is
	  nothing special in it, so you should check it before using.

config APACHE2_LISTEN
	depends on APACHE2_DEFAULTCONFIG
	string
	default "0.0.0.0:80"
	prompt "LISTEN"
	help
	  LISTEN entry in httpd.conf; this entry must contain a server
	  name or IP and a port, for example "0.0.0.0:80" to listen
	  on all interfaces.  

config APACHE2_SERVERNAME
	depends on APACHE2_DEFAULTCONFIG
	string
	default "localhost"
	prompt "SERVERNAME"
	help
	  SERVERNAME entry in httpd.conf

config APACHE2_SERVERADMIN
	depends on APACHE2_DEFAULTCONFIG
	string
	default "foo\@bar"
	prompt "SERVERADMIN"
	help
	  SERVERADMIN entry in httpd.conf

config APACHE2_USER_CONFIG
	depends on APACHE2 && !APACHE2_DEFAULTCONFIG
	string
	prompt "Your own apache configurations file"
	default ""
	help
	  Enter path to your own configuration file that should be
	  used by apache on your target.

comment "Directories"
	depends on APACHE2

config APACHE2_SERVERROOT
	depends on APACHE2
	string
	prompt "ServerRoot directory"
	default "/usr/share/apache2"
	help
	  This directory defines apache's serverroot where the icons are 
	  located.

config APACHE2_PUBLICDOMAINICONS
	bool "Public Domain Icons"
	depends on APACHE2 && APACHE2_SERVERROOT != ""
	default y
	help
          These icons were originally made for Mosaic for X and have been
          included in the NCSA httpd and Apache server distributions in the
          past. They are in the public domain and may be freely included in
	  any application. The originals were done by Kevin Hughes
          (kevinh@kevcom.com).
 
config APACHE2_CUSTOMERRORS
	bool "Multi Language Custom Error Documents"
	depends on APACHE2 && APACHE2_SERVERROOT != ""
	default y
	help
	  Install HTTP error messages in multiple languages. If the preferred
	  language of a client is available it is selected automatically via
	  the MultiViews feature. This feature is enabled by default via the
	  Options, Language and ErrorDocument directives.

config APACHE2_DOCUMENTROOT
	depends on APACHE2
	string
	default "/var/www"
	prompt "DocumentRoot directory"
	help
	  Apache's docroot is very empty if you don't add some
	  files. Later you can connect to your target, but you
	  will see nothing special (only an very small html page
	  is provided). 

config APACHE2_DEFAULT_INDEX
	depends on APACHE2 && APACHE2_DOCUMENTROOT != ""
	bool
	default y
	prompt "Default index.html"
	help
	  Install a demo HTML file, from project/generic/index.html. 

config APACHE2_CONFIGDIR
	depends on APACHE2
	string
	default "/etc/apache2"
	prompt "Config directory"
	help
	  Apache's configuration directory (httpd.conf, mime.types etc. are
	  searched here).  

config APACHE2_LOGDIR
	depends on APACHE2
	string
	default "/var/log/apache2"
	prompt "Logfile directory"
	help
	  Apache's logfile directory. 

comment "----------------------------------"
	depends on APACHE2

comment "Apache 2 Modules"
	depends on APACHE2

comment "----------------------------------"
	depends on APACHE2

config APACHE2_MOD_PHP4
	bool
	prompt "PHP4 Module for Apache 2"
	depends on APACHE2
	select PHP4
	help
	 This module adds the PHP4 script language to the server
	 to support dynamic website generation

source "rules/apache2_mod_python.in"

